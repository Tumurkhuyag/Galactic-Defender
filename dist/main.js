/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_game_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scripts/game_view */ \"./src/scripts/game_view.js\");\n\nconst preloadedImages = [];\nconst imageUrls = [\"src/assets/images/boss1.png\", \"src/assets/images/enemy_projectile.png\", \"src/assets/images/enemy1.png\", \"src/assets/images/enemy2.png\", \"src/assets/images/enemy3.png\", \"src/assets/images/player_projectile.png\", \"src/assets/images/player1.png\", \"src/assets/images/game_background.png\", \"src/assets/images/explosion1.png\", \"src/assets/images/explosion2.png\"];\nimageUrls.forEach((url, i) => {\n  preloadedImages[i] = new Image();\n  preloadedImages[i].src = url;\n});\nwindow.addEventListener(\"load\", () => {\n  window.canvas = document.getElementById(\"game-view\");\n  window.ctx = canvas.getContext(\"2d\");\n  const view = new _scripts_game_view__WEBPACK_IMPORTED_MODULE_0__[\"default\"](canvas, ctx);\n  view.start();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBMkM7QUFFM0MsTUFBTUMsZUFBZSxHQUFHLEVBQUU7QUFDMUIsTUFBTUMsU0FBUyxHQUFHLENBQ2hCLDZCQUE2QixFQUM3Qix3Q0FBd0MsRUFDeEMsOEJBQThCLEVBQzlCLDhCQUE4QixFQUM5Qiw4QkFBOEIsRUFDOUIseUNBQXlDLEVBQ3pDLCtCQUErQixFQUMvQix1Q0FBdUMsRUFDdkMsa0NBQWtDLEVBQ2xDLGtDQUFrQyxDQUNuQztBQUVEQSxTQUFTLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxHQUFHLEVBQUVDLENBQUMsS0FBSztFQUM1QkosZUFBZSxDQUFDSSxDQUFDLENBQUMsR0FBRyxJQUFJQyxLQUFLLEVBQUU7RUFDaENMLGVBQWUsQ0FBQ0ksQ0FBQyxDQUFDLENBQUNFLEdBQUcsR0FBR0gsR0FBRztBQUM5QixDQUFDLENBQUM7QUFFRkksTUFBTSxDQUFDQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsTUFBTTtFQUNwQ0QsTUFBTSxDQUFDRSxNQUFNLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFdBQVcsQ0FBQztFQUNwREosTUFBTSxDQUFDSyxHQUFHLEdBQUdILE1BQU0sQ0FBQ0ksVUFBVSxDQUFDLElBQUksQ0FBQztFQUNwQyxNQUFNQyxJQUFJLEdBQUcsSUFBSWYsMERBQVEsQ0FBQ1UsTUFBTSxFQUFFRyxHQUFHLENBQUM7RUFDdENFLElBQUksQ0FBQ0MsS0FBSyxFQUFFO0FBQ2QsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1wcm9qZWN0Ly4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVWaWV3IGZyb20gXCIuL3NjcmlwdHMvZ2FtZV92aWV3XCI7XG5cbmNvbnN0IHByZWxvYWRlZEltYWdlcyA9IFtdO1xuY29uc3QgaW1hZ2VVcmxzID0gW1xuICBcInNyYy9hc3NldHMvaW1hZ2VzL2Jvc3MxLnBuZ1wiLFxuICBcInNyYy9hc3NldHMvaW1hZ2VzL2VuZW15X3Byb2plY3RpbGUucG5nXCIsXG4gIFwic3JjL2Fzc2V0cy9pbWFnZXMvZW5lbXkxLnBuZ1wiLFxuICBcInNyYy9hc3NldHMvaW1hZ2VzL2VuZW15Mi5wbmdcIixcbiAgXCJzcmMvYXNzZXRzL2ltYWdlcy9lbmVteTMucG5nXCIsXG4gIFwic3JjL2Fzc2V0cy9pbWFnZXMvcGxheWVyX3Byb2plY3RpbGUucG5nXCIsXG4gIFwic3JjL2Fzc2V0cy9pbWFnZXMvcGxheWVyMS5wbmdcIixcbiAgXCJzcmMvYXNzZXRzL2ltYWdlcy9nYW1lX2JhY2tncm91bmQucG5nXCIsXG4gIFwic3JjL2Fzc2V0cy9pbWFnZXMvZXhwbG9zaW9uMS5wbmdcIixcbiAgXCJzcmMvYXNzZXRzL2ltYWdlcy9leHBsb3Npb24yLnBuZ1wiXG5dXG5cbmltYWdlVXJscy5mb3JFYWNoKCh1cmwsIGkpID0+IHtcbiAgcHJlbG9hZGVkSW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gIHByZWxvYWRlZEltYWdlc1tpXS5zcmMgPSB1cmw7XG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICB3aW5kb3cuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLXZpZXdcIik7XG4gIHdpbmRvdy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCB2aWV3ID0gbmV3IEdhbWVWaWV3KGNhbnZhcywgY3R4KTtcbiAgdmlldy5zdGFydCgpXG59KTtcbiJdLCJuYW1lcyI6WyJHYW1lVmlldyIsInByZWxvYWRlZEltYWdlcyIsImltYWdlVXJscyIsImZvckVhY2giLCJ1cmwiLCJpIiwiSW1hZ2UiLCJzcmMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJ2aWV3Iiwic3RhcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/scripts/boss.js":
/*!*****************************!*\
  !*** ./src/scripts/boss.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ship */ \"./src/scripts/ship.js\");\n/* harmony import */ var _projectile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./projectile */ \"./src/scripts/projectile.js\");\n/* harmony import */ var _explosion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./explosion */ \"./src/scripts/explosion.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./timer */ \"./src/scripts/timer.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./src/scripts/utils.js\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n\n\nclass Boss extends _ship__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(game) {\n    // Ship/Moving Object related arguments\n    let image = document.createElement(\"img\");\n    image.src = \"src/assets/images/boss1.png\";\n    let height = 220;\n    let width = 250;\n    let health = Boss.MAX_HEALTH;\n    let projectileDmg = 2;\n    const objArgs = {\n      width: width,\n      height: height,\n      position: [game.canvasWidth / 2 - width / 2, 0 - height * 2],\n      velocity: [0, 1],\n      speed: 1,\n      health: health,\n      game: game,\n      image: image,\n      type: \"enemies\"\n    };\n\n    // Projectile related arguments\n    image = document.createElement(\"img\");\n    image.src = \"src/assets/images/enemy_projectile.png\";\n    const projectileArgs = [{\n      objArgs: {\n        velocity: [0, 8],\n        speed: 8,\n        health: projectileDmg,\n        game: game,\n        width: 10,\n        height: 40,\n        image: image\n      },\n      type: \"bullet\",\n      origin: \"enemy\",\n      projectileSound: \"bossProjectile\"\n    }];\n\n    // boss projectile patterns, to be activated based on boss phase\n    const patternArgs = [{\n      positionDeltas: [[18, 200], [width - 32, 200]],\n      batchFireNum: 1,\n      batchFireInterval: 0,\n      cooldown: 1000,\n      onCooldown: true,\n      timer: null,\n      projectileArgIndex: 0\n    }, {\n      positionDeltas: [[60, 210], [width - 76, 210]],\n      batchFireNum: 2,\n      batchFireInterval: 150,\n      cooldown: 2000,\n      onCooldown: true,\n      timer: null,\n      projectileArgIndex: 0\n    }, {\n      positionDeltas: [[75, 180], [width - 88, 180]],\n      batchFireNum: 2,\n      batchFireInterval: 150,\n      cooldown: 1000,\n      onCooldown: true,\n      timer: null,\n      projectileArgIndex: 0\n    }, {\n      positionDeltas: [[100, 160], [width - 110, 160]],\n      batchFireNum: 3,\n      batchFireInterval: 150,\n      cooldown: 2000,\n      onCooldown: true,\n      timer: null,\n      projectileArgIndex: 0\n    }];\n    super(objArgs, projectileArgs, patternArgs);\n  }\n\n  // box1 is the weakspot\n  getHitbox() {\n    const box1 = {\n      x: this.position[0] + 85,\n      y: this.position[1] + 90,\n      width: 80,\n      height: 70\n    };\n    const box2 = {\n      x: this.position[0] + 10,\n      y: this.position[1] + 90,\n      width: (this.width - 100) / 2,\n      height: this.height - 110\n    };\n    const box3 = {\n      x: this.position[0] + 165,\n      y: this.position[1] + 90,\n      width: (this.width - 100) / 2,\n      height: this.height - 110\n    };\n    const box4 = {\n      x: this.position[0] + 45,\n      y: this.position[1] + 30,\n      width: 155,\n      height: 60\n    };\n    return [box1, box2, box3, box4];\n  }\n\n  // only takes damage if weakpoint hit (index 0 is the hitbox1 weakpoint)\n  handleCollided(otherObj, hitboxesCollided) {\n    const otherObjClass = otherObj.constructor.name;\n    if (otherObjClass === \"Projectile\") {\n      if (hitboxesCollided.includes(0)) {\n        const damage = otherObj.health;\n        this.damageTaken(damage);\n      }\n      otherObj.remove();\n    }\n  }\n\n  // Boss will slowly move down center from the top during cutscene\n  // then move side to side throughout the fight at normal speed \n  updateVelocity() {\n    if (this.movementDisabled) return;\n    if (this.position[1] > 0) {\n      this.speed = 1.5;\n      if (this.velocity[0] === 0 || this.position[0] < 0) {\n        if (this.velocity[0] === 0) {\n          new _timer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.game, this.resetCooldown.bind(this, 0), 1250);\n          this.game.sounds.switchBGM(\"bossBGM\");\n          this.game.player.disabled = false;\n        }\n        this.velocity = [this.speed, 0];\n      } else if (this.position[0] > this.game.canvasWidth - this.width) {\n        this.velocity = [-this.speed, 0];\n      }\n    }\n  }\n\n  // Boss shooting patterns updated based on health remaining\n  updateShootingPattern() {\n    if (this.health === 20) {\n      this.patternArgs[0].timer?.clear();\n      this.patternArgs[1].timer?.clear();\n      this.patternArgs[2].timer?.clear();\n      this.patternArgs[0].onCooldown = false;\n      this.patternArgs[1].onCooldown = false;\n      this.patternArgs[2].onCooldown = false;\n      this.patternArgs[3].onCooldown = false;\n    } else if (this.health === 30) {\n      this.patternArgs[0].timer?.clear();\n      this.patternArgs[1].timer?.clear();\n      this.patternArgs[0].onCooldown = false;\n      this.patternArgs[1].onCooldown = false;\n      this.patternArgs[2].onCooldown = false;\n    } else if (this.health === 40) {\n      this.patternArgs[0].timer?.clear();\n      this.patternArgs[0].onCooldown = false;\n      this.patternArgs[1].onCooldown = false;\n    }\n  }\n  shootProjectile() {\n    if (!this.disabled) super.shootProjectile();\n  }\n  damageTaken(damage) {\n    if (!this.disabled) {\n      super.damageTaken(damage);\n      this.updateShootingPattern();\n    }\n  }\n\n  // Boss death animations plays alot of minor explosions and ends with big finale explosion\n  // Then proceeds to game win after a delay\n  remove() {\n    this.game.score += 1000;\n    this.disabled = true;\n\n    // minor explosions\n    for (let i = 0; i < 20; i++) {\n      const timeDelay = i * 200;\n      if (i % 2 === 0) new _timer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.game, () => this.game.sounds.add(\"explosion\"), timeDelay);\n      new _timer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.game, () => {\n        const hitBoxes = this.getHitbox();\n        const randHitBox = hitBoxes[i % hitBoxes.length];\n        const randPosX = Math.floor(Math.random() * (randHitBox.x + randHitBox.width - randHitBox.x) + randHitBox.x);\n        const randPosY = Math.floor(Math.random() * (randHitBox.y + randHitBox.height - randHitBox.y) + randHitBox.y);\n        const dx = this.velocity[0] < 0 ? 30 : 10;\n        new _explosion__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, 80, [randPosX - dx, randPosY - 70], \"minor\", [0, 0.1]);\n      }, timeDelay);\n    }\n\n    // stop for final explosion\n    new _timer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.game, () => {\n      this.velocity = [0, 0];\n      this.speed = 0;\n      this.movementDisabled = true;\n    }, 4000);\n\n    // final explosion and start timer for setting game win\n    new _timer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.game, () => {\n      this.game.sounds.playMajorSound(\"bossDeath\");\n      const multiplier = this.velocity[0] < 0 ? 1 : -1;\n      const posX = this.position[0] - this.width / 2;\n      const posY = this.position[1] - this.height / 1.5;\n      new _explosion__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, 500, [posX - 30, posY], \"major\", [0, 0]);\n      super.remove();\n      new _timer__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.game, this.game.setWin.bind(this.game), 3500);\n    }, 4500);\n  }\n}\n_defineProperty(Boss, \"MAX_HEALTH\", 50);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Boss);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMzRCxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUUsSUFBSSxDQUFDTixNQUFNLEdBQUMsR0FBSTtNQUMvQyxJQUFJVixrREFBUyxDQUFDLElBQUksQ0FBQ0ssSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDcUUsSUFBSSxHQUFHLEVBQUUsRUFBRUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO01BQ2pFLEtBQUssQ0FBQzVCLE1BQU0sRUFBRTtNQUVkLElBQUk5Qyw4Q0FBSyxDQUFDLElBQUksQ0FBQ0ksSUFBSSxFQUFFLElBQUksQ0FBQ0EsSUFBSSxDQUFDdUUsTUFBTSxDQUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQzlDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQztJQUM5RCxDQUFDLEVBQUUsSUFBSSxDQUFDO0VBQ1Y7QUFDRjtBQUFDd0UsZUFBQSxDQS9OSzFFLElBQUksZ0JBQ1ksRUFBRTtBQWdPeEIsK0RBQWVBLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXByb2plY3QvLi9zcmMvc2NyaXB0cy9ib3NzLmpzPzQ5YWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IFByb2plY3RpbGUgZnJvbSBcIi4vcHJvamVjdGlsZVwiO1xuaW1wb3J0IEV4cGxvc2lvbiBmcm9tIFwiLi9leHBsb3Npb25cIjtcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiO1xuaW1wb3J0IHsgcmVjdGFuZ2xlQ29sbGlzaW9uIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY2xhc3MgQm9zcyBleHRlbmRzIFNoaXAge1xuICBzdGF0aWMgTUFYX0hFQUxUSCA9IDUwO1xuXG4gIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICAvLyBTaGlwL01vdmluZyBPYmplY3QgcmVsYXRlZCBhcmd1bWVudHNcbiAgICBsZXQgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGltYWdlLnNyYyA9IFwic3JjL2Fzc2V0cy9pbWFnZXMvYm9zczEucG5nXCI7XG4gICAgbGV0IGhlaWdodCA9IDIyMDtcbiAgICBsZXQgd2lkdGggPSAyNTBcbiAgICBsZXQgaGVhbHRoID0gQm9zcy5NQVhfSEVBTFRIO1xuICAgIGxldCBwcm9qZWN0aWxlRG1nID0gMjtcblxuICAgIGNvbnN0IG9iakFyZ3MgPSB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIHBvc2l0aW9uOiBbKGdhbWUuY2FudmFzV2lkdGgvMikgLSAod2lkdGgvMiksIDAgLSAoaGVpZ2h0KjIpXSxcbiAgICAgIHZlbG9jaXR5OiBbMCwgMV0sXG4gICAgICBzcGVlZDogMSxcbiAgICAgIGhlYWx0aDogaGVhbHRoLFxuICAgICAgZ2FtZTogZ2FtZSxcbiAgICAgIGltYWdlOiBpbWFnZSxcbiAgICAgIHR5cGU6IFwiZW5lbWllc1wiXG4gICAgfVxuXG4gICAgLy8gUHJvamVjdGlsZSByZWxhdGVkIGFyZ3VtZW50c1xuICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBpbWFnZS5zcmMgPSBcInNyYy9hc3NldHMvaW1hZ2VzL2VuZW15X3Byb2plY3RpbGUucG5nXCI7XG4gICAgY29uc3QgcHJvamVjdGlsZUFyZ3MgPSBbe1xuICAgICAgb2JqQXJnczoge1xuICAgICAgICB2ZWxvY2l0eTogWzAsIDhdLFxuICAgICAgICBzcGVlZDogOCxcbiAgICAgICAgaGVhbHRoOiBwcm9qZWN0aWxlRG1nLFxuICAgICAgICBnYW1lOiBnYW1lLFxuICAgICAgICB3aWR0aDogMTAsXG4gICAgICAgIGhlaWdodDogNDAsXG4gICAgICAgIGltYWdlOiBpbWFnZVxuICAgICAgfSxcbiAgICAgIHR5cGU6IFwiYnVsbGV0XCIsXG4gICAgICBvcmlnaW46IFwiZW5lbXlcIixcbiAgICAgIHByb2plY3RpbGVTb3VuZDogXCJib3NzUHJvamVjdGlsZVwiXG4gICAgfV1cblxuICAgIC8vIGJvc3MgcHJvamVjdGlsZSBwYXR0ZXJucywgdG8gYmUgYWN0aXZhdGVkIGJhc2VkIG9uIGJvc3MgcGhhc2VcbiAgICBjb25zdCBwYXR0ZXJuQXJncyA9IFt7XG4gICAgICBwb3NpdGlvbkRlbHRhczogW1sxOCwgMjAwXSwgW3dpZHRoLTMyLCAyMDBdXSxcbiAgICAgIGJhdGNoRmlyZU51bTogMSxcbiAgICAgIGJhdGNoRmlyZUludGVydmFsOiAwLFxuICAgICAgY29vbGRvd246IDEwMDAsXG4gICAgICBvbkNvb2xkb3duOiB0cnVlLFxuICAgICAgdGltZXI6IG51bGwsXG4gICAgICBwcm9qZWN0aWxlQXJnSW5kZXg6IDBcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvc2l0aW9uRGVsdGFzOiBbWzYwLCAyMTBdLCBbd2lkdGgtNzYsIDIxMF1dLFxuICAgICAgYmF0Y2hGaXJlTnVtOiAyLFxuICAgICAgYmF0Y2hGaXJlSW50ZXJ2YWw6IDE1MCxcbiAgICAgIGNvb2xkb3duOiAyMDAwLFxuICAgICAgb25Db29sZG93bjogdHJ1ZSxcbiAgICAgIHRpbWVyOiBudWxsLFxuICAgICAgcHJvamVjdGlsZUFyZ0luZGV4OiAwXG4gICAgfSxcbiAgICB7XG4gICAgICBwb3NpdGlvbkRlbHRhczogW1s3NSwgMTgwXSwgW3dpZHRoLTg4LCAxODBdXSxcbiAgICAgIGJhdGNoRmlyZU51bTogMixcbiAgICAgIGJhdGNoRmlyZUludGVydmFsOiAxNTAsXG4gICAgICBjb29sZG93bjogMTAwMCxcbiAgICAgIG9uQ29vbGRvd246IHRydWUsXG4gICAgICB0aW1lcjogbnVsbCxcbiAgICAgIHByb2plY3RpbGVBcmdJbmRleDogMFxuICAgIH0sXG4gICAge1xuICAgICAgcG9zaXRpb25EZWx0YXM6IFtbMTAwLCAxNjBdLCBbd2lkdGggLSAxMTAsIDE2MF1dLFxuICAgICAgYmF0Y2hGaXJlTnVtOiAzLFxuICAgICAgYmF0Y2hGaXJlSW50ZXJ2YWw6IDE1MCxcbiAgICAgIGNvb2xkb3duOiAyMDAwLFxuICAgICAgb25Db29sZG93bjogdHJ1ZSxcbiAgICAgIHRpbWVyOiBudWxsLFxuICAgICAgcHJvamVjdGlsZUFyZ0luZGV4OiAwXG4gICAgfV1cblxuICAgIHN1cGVyKG9iakFyZ3MsIHByb2plY3RpbGVBcmdzLCBwYXR0ZXJuQXJncyk7XG4gIH1cblxuICAvLyBib3gxIGlzIHRoZSB3ZWFrc3BvdFxuICBnZXRIaXRib3goKSB7XG4gICAgY29uc3QgYm94MSA9IHtcbiAgICAgIHg6IHRoaXMucG9zaXRpb25bMF0gKyA4NSxcbiAgICAgIHk6IHRoaXMucG9zaXRpb25bMV0gKyA5MCxcbiAgICAgIHdpZHRoOiA4MCxcbiAgICAgIGhlaWdodDogNzBcbiAgICB9XG5cbiAgICBjb25zdCBib3gyID0ge1xuICAgICAgeDogdGhpcy5wb3NpdGlvblswXSArIDEwLFxuICAgICAgeTogdGhpcy5wb3NpdGlvblsxXSArIDkwLFxuICAgICAgd2lkdGg6ICh0aGlzLndpZHRoIC0gMTAwKSAvIDIsXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0IC0gMTEwXG4gICAgfVxuXG4gICAgY29uc3QgYm94MyA9IHtcbiAgICAgIHg6IHRoaXMucG9zaXRpb25bMF0gKyAxNjUsXG4gICAgICB5OiB0aGlzLnBvc2l0aW9uWzFdICsgOTAsXG4gICAgICB3aWR0aDogKHRoaXMud2lkdGggLSAxMDApIC8gMixcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgLSAxMTBcbiAgICB9XG5cbiAgICBjb25zdCBib3g0ID0ge1xuICAgICAgeDogdGhpcy5wb3NpdGlvblswXSArIDQ1LFxuICAgICAgeTogdGhpcy5wb3NpdGlvblsxXSArIDMwLFxuICAgICAgd2lkdGg6IDE1NSxcbiAgICAgIGhlaWdodDogNjBcbiAgICB9XG5cbiAgICByZXR1cm4gW2JveDEsIGJveDIsIGJveDMsIGJveDRdO1xuICB9XG5cbiAgLy8gb25seSB0YWtlcyBkYW1hZ2UgaWYgd2Vha3BvaW50IGhpdCAoaW5kZXggMCBpcyB0aGUgaGl0Ym94MSB3ZWFrcG9pbnQpXG4gIGhhbmRsZUNvbGxpZGVkKG90aGVyT2JqLCBoaXRib3hlc0NvbGxpZGVkKSB7XG4gICAgY29uc3Qgb3RoZXJPYmpDbGFzcyA9IG90aGVyT2JqLmNvbnN0cnVjdG9yLm5hbWU7XG5cbiAgICBpZiAob3RoZXJPYmpDbGFzcyA9PT0gXCJQcm9qZWN0aWxlXCIpIHtcbiAgICAgIGlmIChoaXRib3hlc0NvbGxpZGVkLmluY2x1ZGVzKDApKSB7XG4gICAgICAgIGNvbnN0IGRhbWFnZSA9IG90aGVyT2JqLmhlYWx0aDtcbiAgICAgICAgdGhpcy5kYW1hZ2VUYWtlbihkYW1hZ2UpO1xuICAgICAgfVxuICAgICAgb3RoZXJPYmoucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQm9zcyB3aWxsIHNsb3dseSBtb3ZlIGRvd24gY2VudGVyIGZyb20gdGhlIHRvcCBkdXJpbmcgY3V0c2NlbmVcbiAgLy8gdGhlbiBtb3ZlIHNpZGUgdG8gc2lkZSB0aHJvdWdob3V0IHRoZSBmaWdodCBhdCBub3JtYWwgc3BlZWQgXG4gIHVwZGF0ZVZlbG9jaXR5KCkge1xuICAgIGlmICh0aGlzLm1vdmVtZW50RGlzYWJsZWQpIHJldHVybiBcblxuICAgIGlmICh0aGlzLnBvc2l0aW9uWzFdID4gMCkge1xuICAgICAgdGhpcy5zcGVlZCA9IDEuNTtcbiAgICAgIGlmICh0aGlzLnZlbG9jaXR5WzBdID09PSAwIHx8IHRoaXMucG9zaXRpb25bMF0gPCAwKSB7XG4gICAgICAgIGlmICh0aGlzLnZlbG9jaXR5WzBdID09PSAwKSB7XG4gICAgICAgICAgbmV3IFRpbWVyKHRoaXMuZ2FtZSwgdGhpcy5yZXNldENvb2xkb3duLmJpbmQodGhpcywgMCksIDEyNTApXG4gICAgICAgICAgdGhpcy5nYW1lLnNvdW5kcy5zd2l0Y2hCR00oXCJib3NzQkdNXCIpO1xuICAgICAgICAgIHRoaXMuZ2FtZS5wbGF5ZXIuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gW3RoaXMuc3BlZWQsIDBdO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnBvc2l0aW9uWzBdID4gdGhpcy5nYW1lLmNhbnZhc1dpZHRoIC0gdGhpcy53aWR0aCkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gWy10aGlzLnNwZWVkLCAwXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBCb3NzIHNob290aW5nIHBhdHRlcm5zIHVwZGF0ZWQgYmFzZWQgb24gaGVhbHRoIHJlbWFpbmluZ1xuICB1cGRhdGVTaG9vdGluZ1BhdHRlcm4oKSB7XG4gICAgaWYgKHRoaXMuaGVhbHRoID09PSAyMCkge1xuICAgICAgdGhpcy5wYXR0ZXJuQXJnc1swXS50aW1lcj8uY2xlYXIoKTtcbiAgICAgIHRoaXMucGF0dGVybkFyZ3NbMV0udGltZXI/LmNsZWFyKCk7XG4gICAgICB0aGlzLnBhdHRlcm5BcmdzWzJdLnRpbWVyPy5jbGVhcigpO1xuICAgICAgdGhpcy5wYXR0ZXJuQXJnc1swXS5vbkNvb2xkb3duID0gZmFsc2U7XG4gICAgICB0aGlzLnBhdHRlcm5BcmdzWzFdLm9uQ29vbGRvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMucGF0dGVybkFyZ3NbMl0ub25Db29sZG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5wYXR0ZXJuQXJnc1szXS5vbkNvb2xkb3duID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhlYWx0aCA9PT0gMzApIHtcbiAgICAgIHRoaXMucGF0dGVybkFyZ3NbMF0udGltZXI/LmNsZWFyKCk7XG4gICAgICB0aGlzLnBhdHRlcm5BcmdzWzFdLnRpbWVyPy5jbGVhcigpO1xuICAgICAgdGhpcy5wYXR0ZXJuQXJnc1swXS5vbkNvb2xkb3duID0gZmFsc2U7XG4gICAgICB0aGlzLnBhdHRlcm5BcmdzWzFdLm9uQ29vbGRvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMucGF0dGVybkFyZ3NbMl0ub25Db29sZG93biA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5oZWFsdGggPT09IDQwKSB7XG4gICAgICB0aGlzLnBhdHRlcm5BcmdzWzBdLnRpbWVyPy5jbGVhcigpO1xuICAgICAgdGhpcy5wYXR0ZXJuQXJnc1swXS5vbkNvb2xkb3duID0gZmFsc2U7XG4gICAgICB0aGlzLnBhdHRlcm5BcmdzWzFdLm9uQ29vbGRvd24gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzaG9vdFByb2plY3RpbGUoKSB7XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSBzdXBlci5zaG9vdFByb2plY3RpbGUoKTtcbiAgfVxuXG4gIGRhbWFnZVRha2VuKGRhbWFnZSkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgc3VwZXIuZGFtYWdlVGFrZW4oZGFtYWdlKTtcbiAgICAgIHRoaXMudXBkYXRlU2hvb3RpbmdQYXR0ZXJuKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQm9zcyBkZWF0aCBhbmltYXRpb25zIHBsYXlzIGFsb3Qgb2YgbWlub3IgZXhwbG9zaW9ucyBhbmQgZW5kcyB3aXRoIGJpZyBmaW5hbGUgZXhwbG9zaW9uXG4gIC8vIFRoZW4gcHJvY2VlZHMgdG8gZ2FtZSB3aW4gYWZ0ZXIgYSBkZWxheVxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5nYW1lLnNjb3JlICs9IDEwMDA7XG4gICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAvLyBtaW5vciBleHBsb3Npb25zXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICBjb25zdCB0aW1lRGVsYXkgPSBpICogMjAwO1xuICAgICAgaWYgKGkgJSAyID09PSAwKSBuZXcgVGltZXIodGhpcy5nYW1lLCAoKSA9PiB0aGlzLmdhbWUuc291bmRzLmFkZChcImV4cGxvc2lvblwiKSwgdGltZURlbGF5KTtcblxuICAgICAgbmV3IFRpbWVyKHRoaXMuZ2FtZSwgKCkgPT4ge1xuICAgICAgICBjb25zdCBoaXRCb3hlcyA9IHRoaXMuZ2V0SGl0Ym94KCk7XG4gICAgICAgIGNvbnN0IHJhbmRIaXRCb3ggPSBoaXRCb3hlc1tpICUgaGl0Qm94ZXMubGVuZ3RoXVxuICAgICAgICBjb25zdCByYW5kUG9zWCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgocmFuZEhpdEJveC54ICsgcmFuZEhpdEJveC53aWR0aCkgLSByYW5kSGl0Qm94LngpICsgcmFuZEhpdEJveC54KTtcbiAgICAgICAgY29uc3QgcmFuZFBvc1kgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoKHJhbmRIaXRCb3gueSArIHJhbmRIaXRCb3guaGVpZ2h0KSAtIHJhbmRIaXRCb3gueSkgKyByYW5kSGl0Qm94LnkpO1xuICAgICAgICBjb25zdCBkeCA9ICh0aGlzLnZlbG9jaXR5WzBdIDwgMCA/IDMwIDogMTApXG4gICAgICAgIG5ldyBFeHBsb3Npb24odGhpcy5nYW1lLCA4MCwgW3JhbmRQb3NYIC0gZHgsIHJhbmRQb3NZIC0gNzBdLCBcIm1pbm9yXCIsIFswLCAwLjFdKTtcbiAgICAgIH0sIHRpbWVEZWxheSk7XG4gICAgfVxuXG4gICAgLy8gc3RvcCBmb3IgZmluYWwgZXhwbG9zaW9uXG4gICAgbmV3IFRpbWVyKHRoaXMuZ2FtZSwgKCkgPT4ge1xuICAgICAgdGhpcy52ZWxvY2l0eSA9IFswLDBdO1xuICAgICAgdGhpcy5zcGVlZCA9IDA7XG4gICAgICB0aGlzLm1vdmVtZW50RGlzYWJsZWQgPSB0cnVlO1xuICAgIH0sIDQwMDApO1xuICAgIFxuICAgIC8vIGZpbmFsIGV4cGxvc2lvbiBhbmQgc3RhcnQgdGltZXIgZm9yIHNldHRpbmcgZ2FtZSB3aW5cbiAgICBuZXcgVGltZXIodGhpcy5nYW1lLCAoKSA9PiB7XG4gICAgICB0aGlzLmdhbWUuc291bmRzLnBsYXlNYWpvclNvdW5kKFwiYm9zc0RlYXRoXCIpO1xuICAgICAgY29uc3QgbXVsdGlwbGllciA9ICh0aGlzLnZlbG9jaXR5WzBdIDwgMCA/IDEgOiAtMSk7XG4gICAgICBjb25zdCBwb3NYID0gdGhpcy5wb3NpdGlvblswXS0odGhpcy53aWR0aC8yKTtcbiAgICAgIGNvbnN0IHBvc1kgPSB0aGlzLnBvc2l0aW9uWzFdLSh0aGlzLmhlaWdodC8xLjUpO1xuICAgICAgbmV3IEV4cGxvc2lvbih0aGlzLmdhbWUsIDUwMCwgW3Bvc1ggLSAzMCwgcG9zWV0sIFwibWFqb3JcIiwgWzAsIDBdKTtcbiAgICAgIHN1cGVyLnJlbW92ZSgpO1xuXG4gICAgICBuZXcgVGltZXIodGhpcy5nYW1lLCB0aGlzLmdhbWUuc2V0V2luLmJpbmQodGhpcy5nYW1lKSwgMzUwMCk7XG4gICAgfSwgNDUwMClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb3NzOyJdLCJuYW1lcyI6WyJTaGlwIiwiUHJvamVjdGlsZSIsIkV4cGxvc2lvbiIsIlRpbWVyIiwicmVjdGFuZ2xlQ29sbGlzaW9uIiwiQm9zcyIsImNvbnN0cnVjdG9yIiwiZ2FtZSIsImltYWdlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiaGVpZ2h0Iiwid2lkdGgiLCJoZWFsdGgiLCJNQVhfSEVBTFRIIiwicHJvamVjdGlsZURtZyIsIm9iakFyZ3MiLCJwb3NpdGlvbiIsImNhbnZhc1dpZHRoIiwidmVsb2NpdHkiLCJzcGVlZCIsInR5cGUiLCJwcm9qZWN0aWxlQXJncyIsIm9yaWdpbiIsInByb2plY3RpbGVTb3VuZCIsInBhdHRlcm5BcmdzIiwicG9zaXRpb25EZWx0YXMiLCJiYXRjaEZpcmVOdW0iLCJiYXRjaEZpcmVJbnRlcnZhbCIsImNvb2xkb3duIiwib25Db29sZG93biIsInRpbWVyIiwicHJvamVjdGlsZUFyZ0luZGV4IiwiZ2V0SGl0Ym94IiwiYm94MSIsIngiLCJ5IiwiYm94MiIsImJveDMiLCJib3g0IiwiaGFuZGxlQ29sbGlkZWQiLCJvdGhlck9iaiIsImhpdGJveGVzQ29sbGlkZWQiLCJvdGhlck9iakNsYXNzIiwibmFtZSIsImluY2x1ZGVzIiwiZGFtYWdlIiwiZGFtYWdlVGFrZW4iLCJyZW1vdmUiLCJ1cGRhdGVWZWxvY2l0eSIsIm1vdmVtZW50RGlzYWJsZWQiLCJyZXNldENvb2xkb3duIiwiYmluZCIsInNvdW5kcyIsInN3aXRjaEJHTSIsInBsYXllciIsImRpc2FibGVkIiwidXBkYXRlU2hvb3RpbmdQYXR0ZXJuIiwiY2xlYXIiLCJzaG9vdFByb2plY3RpbGUiLCJzY29yZSIsImkiLCJ0aW1lRGVsYXkiLCJhZGQiLCJoaXRCb3hlcyIsInJhbmRIaXRCb3giLCJsZW5ndGgiLCJyYW5kUG9zWCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRQb3NZIiwiZHgiLCJwbGF5TWFqb3JTb3VuZCIsIm11bHRpcGxpZXIiLCJwb3NYIiwicG9zWSIsInNldFdpbiIsIl9kZWZpbmVQcm9wZXJ0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/boss.js\n");

/***/ }),

/***/ "./src/scripts/enemy_ship.js":
/*!***********************************!*\
  !*** ./src/scripts/enemy_ship.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ship */ \"./src/scripts/ship.js\");\n/* harmony import */ var _moving_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./moving_object */ \"./src/scripts/moving_object.js\");\n/* harmony import */ var _explosion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./explosion */ \"./src/scripts/explosion.js\");\n\n\n\nclass EnemyShip extends _ship__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(game, posX, speed, cooldown) {\n    // Ship/MovingObject related arguments\n    let image = document.createElement(\"img\");\n    image.src = \"src/assets/images/enemy1.png\";\n    let height = 40;\n    let width = 46;\n    let health = 1;\n    let projectileDmg = 1;\n\n    // in case the random position clips the ship image out of bounds\n    if (posX < 0 - width) {\n      posX = 0;\n    } else if (posX > game.canvasWidth - width) {\n      posX = game.canvasWidth - width;\n    }\n    const objArgs = {\n      width: width,\n      height: height,\n      position: [posX, 0 - height * 2],\n      velocity: [0, speed],\n      speed: speed,\n      health: health,\n      game: game,\n      image: image,\n      type: \"enemies\"\n    };\n\n    // Projectile related arguments\n    image = document.createElement(\"img\");\n    image.src = \"src/assets/images/enemy_projectile.png\";\n    const projectileArgs = [{\n      objArgs: {\n        velocity: [0, 8],\n        speed: 8,\n        health: projectileDmg,\n        game: game,\n        width: 5,\n        height: 20,\n        image: image\n      },\n      type: \"bullet\",\n      origin: \"enemy\",\n      projectileSound: \"enemyProjectile\"\n    }];\n\n    // projectile pattern\n    const patternArgs = [{\n      positionDeltas: [[width / 2.25, 10]],\n      batchFireNum: 1,\n      batchFireInterval: 0,\n      cooldown: cooldown,\n      onCooldown: false,\n      timer: null,\n      projectileArgIndex: 0\n    }];\n    super(objArgs, projectileArgs, patternArgs);\n  }\n\n  // enemy ships simply move from top to bottom\n  // removed once they get below the screen\n  handleBounds(newPosition) {\n    if (!this.inUpperYHeightBounds(newPosition[1])) {\n      this.remove();\n    } else {\n      this.position = newPosition;\n    }\n  }\n  remove() {\n    if (this.health <= 0) {\n      this.game.sounds.add(\"explosion\");\n      new _explosion__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, 80, this.position, \"minor\", [0, 0.5]);\n      this.game.score += 50;\n    }\n    super.remove();\n    this.game.enemiesRemaining -= 1;\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (EnemyShip);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUNWLElBQUksQ0FBQytCLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDLFdBQVcsQ0FBQztNQUNqQyxJQUFJbkMsa0RBQVMsQ0FBQyxJQUFJLENBQUNHLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDYyxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO01BQzlELElBQUksQ0FBQ2QsSUFBSSxDQUFDaUMsS0FBSyxJQUFJLEVBQUU7SUFDdkI7SUFFQSxLQUFLLENBQUNILE1BQU0sRUFBRTtJQUNkLElBQUksQ0FBQzlCLElBQUksQ0FBQ2tDLGdCQUFnQixJQUFJLENBQUM7RUFDakM7QUFDRjtBQUVBLCtEQUFlcEMsU0FBUyIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtcHJvamVjdC8uL3NyYy9zY3JpcHRzL2VuZW15X3NoaXAuanM/YjVmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2hpcCBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgTW92aW5nT2JqZWN0IGZyb20gXCIuL21vdmluZ19vYmplY3RcIjtcbmltcG9ydCBFeHBsb3Npb24gZnJvbSBcIi4vZXhwbG9zaW9uXCI7XG5cbmNsYXNzIEVuZW15U2hpcCBleHRlbmRzIFNoaXAge1xuICBjb25zdHJ1Y3RvcihnYW1lLCBwb3NYLCBzcGVlZCwgY29vbGRvd24pIHtcbiAgICAvLyBTaGlwL01vdmluZ09iamVjdCByZWxhdGVkIGFyZ3VtZW50c1xuICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgaW1hZ2Uuc3JjID0gXCJzcmMvYXNzZXRzL2ltYWdlcy9lbmVteTEucG5nXCI7XG4gICAgbGV0IGhlaWdodCA9IDQwO1xuICAgIGxldCB3aWR0aCA9IDQ2O1xuICAgIGxldCBoZWFsdGggPSAxO1xuICAgIGxldCBwcm9qZWN0aWxlRG1nID0gMTtcblxuICAgIC8vIGluIGNhc2UgdGhlIHJhbmRvbSBwb3NpdGlvbiBjbGlwcyB0aGUgc2hpcCBpbWFnZSBvdXQgb2YgYm91bmRzXG4gICAgaWYgKHBvc1ggPCAwIC0gd2lkdGgpIHtcbiAgICAgIHBvc1ggPSAwO1xuICAgIH0gZWxzZSBpZiAocG9zWCA+IGdhbWUuY2FudmFzV2lkdGggLSB3aWR0aCkge1xuICAgICAgcG9zWCA9IGdhbWUuY2FudmFzV2lkdGggLSB3aWR0aDtcbiAgICB9XG5cbiAgICBjb25zdCBvYmpBcmdzID0ge1xuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICBwb3NpdGlvbjogW3Bvc1gsIDAgLSAoaGVpZ2h0ICogMildLFxuICAgICAgdmVsb2NpdHk6IFswLCBzcGVlZF0sXG4gICAgICBzcGVlZDogc3BlZWQsXG4gICAgICBoZWFsdGg6IGhlYWx0aCxcbiAgICAgIGdhbWU6IGdhbWUsXG4gICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICB0eXBlOiBcImVuZW1pZXNcIlxuICAgIH1cblxuICAgIC8vIFByb2plY3RpbGUgcmVsYXRlZCBhcmd1bWVudHNcbiAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgaW1hZ2Uuc3JjID0gXCJzcmMvYXNzZXRzL2ltYWdlcy9lbmVteV9wcm9qZWN0aWxlLnBuZ1wiO1xuICAgIGNvbnN0IHByb2plY3RpbGVBcmdzID0gW3tcbiAgICAgIG9iakFyZ3M6IHtcbiAgICAgICAgdmVsb2NpdHk6IFswLCA4XSxcbiAgICAgICAgc3BlZWQ6IDgsXG4gICAgICAgIGhlYWx0aDogcHJvamVjdGlsZURtZyxcbiAgICAgICAgZ2FtZTogZ2FtZSxcbiAgICAgICAgd2lkdGg6IDUsXG4gICAgICAgIGhlaWdodDogMjAsXG4gICAgICAgIGltYWdlOiBpbWFnZVxuICAgICAgfSxcbiAgICAgIHR5cGU6IFwiYnVsbGV0XCIsXG4gICAgICBvcmlnaW46IFwiZW5lbXlcIixcbiAgICAgIHByb2plY3RpbGVTb3VuZDogXCJlbmVteVByb2plY3RpbGVcIlxuICAgIH1dXG5cbiAgICAvLyBwcm9qZWN0aWxlIHBhdHRlcm5cbiAgICBjb25zdCBwYXR0ZXJuQXJncyA9IFt7XG4gICAgICBwb3NpdGlvbkRlbHRhczogW1t3aWR0aC8oMi4yNSksIDEwXV0sXG4gICAgICBiYXRjaEZpcmVOdW06IDEsXG4gICAgICBiYXRjaEZpcmVJbnRlcnZhbDogMCxcbiAgICAgIGNvb2xkb3duOiBjb29sZG93bixcbiAgICAgIG9uQ29vbGRvd246IGZhbHNlLFxuICAgICAgdGltZXI6IG51bGwsXG4gICAgICBwcm9qZWN0aWxlQXJnSW5kZXg6IDBcbiAgICB9XVxuXG4gICAgc3VwZXIob2JqQXJncywgcHJvamVjdGlsZUFyZ3MsIHBhdHRlcm5BcmdzKTtcbiAgfVxuXG4gIC8vIGVuZW15IHNoaXBzIHNpbXBseSBtb3ZlIGZyb20gdG9wIHRvIGJvdHRvbVxuICAvLyByZW1vdmVkIG9uY2UgdGhleSBnZXQgYmVsb3cgdGhlIHNjcmVlblxuICBoYW5kbGVCb3VuZHMobmV3UG9zaXRpb24pIHtcbiAgICBpZiAoIXRoaXMuaW5VcHBlcllIZWlnaHRCb3VuZHMobmV3UG9zaXRpb25bMV0pKSB7XG4gICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIGlmICh0aGlzLmhlYWx0aCA8PSAwKSB7XG4gICAgICB0aGlzLmdhbWUuc291bmRzLmFkZChcImV4cGxvc2lvblwiKTtcbiAgICAgIG5ldyBFeHBsb3Npb24odGhpcy5nYW1lLCA4MCwgdGhpcy5wb3NpdGlvbiwgXCJtaW5vclwiLCBbMCwgMC41XSk7XG4gICAgICB0aGlzLmdhbWUuc2NvcmUgKz0gNTA7XG4gICAgfVxuXG4gICAgc3VwZXIucmVtb3ZlKCk7XG4gICAgdGhpcy5nYW1lLmVuZW1pZXNSZW1haW5pbmcgLT0gMTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFbmVteVNoaXA7Il0sIm5hbWVzIjpbIlNoaXAiLCJNb3ZpbmdPYmplY3QiLCJFeHBsb3Npb24iLCJFbmVteVNoaXAiLCJjb25zdHJ1Y3RvciIsImdhbWUiLCJwb3NYIiwic3BlZWQiLCJjb29sZG93biIsImltYWdlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiaGVpZ2h0Iiwid2lkdGgiLCJoZWFsdGgiLCJwcm9qZWN0aWxlRG1nIiwiY2FudmFzV2lkdGgiLCJvYmpBcmdzIiwicG9zaXRpb24iLCJ2ZWxvY2l0eSIsInR5cGUiLCJwcm9qZWN0aWxlQXJncyIsIm9yaWdpbiIsInByb2plY3RpbGVTb3VuZCIsInBhdHRlcm5BcmdzIiwicG9zaXRpb25EZWx0YXMiLCJiYXRjaEZpcmVOdW0iLCJiYXRjaEZpcmVJbnRlcnZhbCIsIm9uQ29vbGRvd24iLCJ0aW1lciIsInByb2plY3RpbGVBcmdJbmRleCIsImhhbmRsZUJvdW5kcyIsIm5ld1Bvc2l0aW9uIiwiaW5VcHBlcllIZWlnaHRCb3VuZHMiLCJyZW1vdmUiLCJzb3VuZHMiLCJhZGQiLCJzY29yZSIsImVuZW1pZXNSZW1haW5pbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/enemy_ship.js\n");

/***/ }),

/***/ "./src/scripts/explosion.js":
/*!**********************************!*\
  !*** ./src/scripts/explosion.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _moving_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./moving_object */ \"./src/scripts/moving_object.js\");\n\n\n// Explosion class handles different explosion types\n// minor for enemy ships, major for player and boss death\nclass Explosion extends _moving_object__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(game, size, position, explosionType, velocityDelta) {\n    const image = document.createElement(\"img\");\n    if (explosionType === \"minor\") {\n      image.src = \"src/assets/images/explosion1.png\";\n    } else if (explosionType === \"major\") {\n      image.src = \"src/assets/images/explosion2.png\";\n    }\n    const argsObj = {\n      position: position,\n      velocity: [0, 0],\n      speed: 0,\n      health: 0,\n      game: game,\n      width: size,\n      height: size,\n      image: image,\n      type: \"explosions\"\n    };\n    super(argsObj);\n    if (explosionType === \"minor\") {\n      this.maxFrames = 20;\n      this.imgSize = 192;\n      this.cutSize = 5;\n    } else if (explosionType === \"major\") {\n      this.maxFrames = 48;\n      this.imgSize = 240;\n      this.cutSize = 8;\n    }\n    this.frame = 0;\n    this.velocityDelta = velocityDelta;\n  }\n\n  // explosions are animated sprites with multiple frames\n  draw(ctx) {\n    const yOffset = Math.floor(this.frame / this.cutSize);\n    const xOffset = this.frame % this.cutSize;\n    ctx.drawImage(this.image, this.imgSize * xOffset, this.imgSize * yOffset, this.imgSize, this.imgSize, this.position[0], this.position[1], this.width, this.height);\n    this.frame += 1;\n    if (this.frame >= this.maxFrames) {\n      this.remove();\n    }\n  }\n  updateVelocity() {\n    this.velocity[0] += this.velocityDelta[0];\n    this.velocity[1] += this.velocityDelta[1];\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Explosion);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cHQtcHJvamVjdC8uL3NyYy9zY3JpcHRzL2V4cGxvc2lvbi5qcz9lMzUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb3ZpbmdPYmplY3QgZnJvbSBcIi4vbW92aW5nX29iamVjdFwiO1xuXG4vLyBFeHBsb3Npb24gY2xhc3MgaGFuZGxlcyBkaWZmZXJlbnQgZXhwbG9zaW9uIHR5cGVzXG4vLyBtaW5vciBmb3IgZW5lbXkgc2hpcHMsIG1ham9yIGZvciBwbGF5ZXIgYW5kIGJvc3MgZGVhdGhcbmNsYXNzIEV4cGxvc2lvbiBleHRlbmRzIE1vdmluZ09iamVjdCB7XG4gIGNvbnN0cnVjdG9yKGdhbWUsIHNpemUsIHBvc2l0aW9uLCBleHBsb3Npb25UeXBlLCB2ZWxvY2l0eURlbHRhKSB7XG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGlmIChleHBsb3Npb25UeXBlID09PSBcIm1pbm9yXCIpIHtcbiAgICAgIGltYWdlLnNyYyA9IFwic3JjL2Fzc2V0cy9pbWFnZXMvZXhwbG9zaW9uMS5wbmdcIjtcbiAgICB9IGVsc2UgaWYgKGV4cGxvc2lvblR5cGUgPT09IFwibWFqb3JcIiApIHtcbiAgICAgIGltYWdlLnNyYyA9IFwic3JjL2Fzc2V0cy9pbWFnZXMvZXhwbG9zaW9uMi5wbmdcIjtcbiAgICB9XG5cbiAgICBjb25zdCBhcmdzT2JqID0ge1xuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgdmVsb2NpdHk6IFswLCAwXSxcbiAgICAgIHNwZWVkOiAwLFxuICAgICAgaGVhbHRoOiAwLFxuICAgICAgZ2FtZTogZ2FtZSxcbiAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgdHlwZTogXCJleHBsb3Npb25zXCJcbiAgICB9XG4gICAgc3VwZXIoYXJnc09iaik7XG5cbiAgICBpZiAoZXhwbG9zaW9uVHlwZSA9PT0gXCJtaW5vclwiKSB7XG4gICAgICB0aGlzLm1heEZyYW1lcyA9IDIwO1xuICAgICAgdGhpcy5pbWdTaXplID0gMTkyO1xuICAgICAgdGhpcy5jdXRTaXplID0gNTtcbiAgICB9IGVsc2UgaWYgKGV4cGxvc2lvblR5cGUgPT09IFwibWFqb3JcIiApIHtcbiAgICAgIHRoaXMubWF4RnJhbWVzID0gNDg7XG4gICAgICB0aGlzLmltZ1NpemUgPSAyNDA7XG4gICAgICB0aGlzLmN1dFNpemUgPSA4O1xuICAgIH1cblxuICAgIHRoaXMuZnJhbWUgPSAwO1xuICAgIHRoaXMudmVsb2NpdHlEZWx0YSA9IHZlbG9jaXR5RGVsdGE7XG4gIH1cblxuICAvLyBleHBsb3Npb25zIGFyZSBhbmltYXRlZCBzcHJpdGVzIHdpdGggbXVsdGlwbGUgZnJhbWVzXG4gIGRyYXcoY3R4KSB7XG4gICAgY29uc3QgeU9mZnNldCA9IE1hdGguZmxvb3IodGhpcy5mcmFtZS90aGlzLmN1dFNpemUpO1xuICAgIGNvbnN0IHhPZmZzZXQgPSB0aGlzLmZyYW1lICUgdGhpcy5jdXRTaXplO1xuICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgXG4gICAgICAgICAgICAgICAgICB0aGlzLmltZ1NpemUqeE9mZnNldCwgdGhpcy5pbWdTaXplKnlPZmZzZXQsIHRoaXMuaW1nU2l6ZSwgdGhpcy5pbWdTaXplLCBcbiAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb25bMF0sIHRoaXMucG9zaXRpb25bMV0sIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB0aGlzLmZyYW1lICs9IDE7XG5cbiAgICBpZiAodGhpcy5mcmFtZSA+PSB0aGlzLm1heEZyYW1lcykge1xuICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVWZWxvY2l0eSgpIHtcbiAgICB0aGlzLnZlbG9jaXR5WzBdICs9IHRoaXMudmVsb2NpdHlEZWx0YVswXTtcbiAgICB0aGlzLnZlbG9jaXR5WzFdICs9IHRoaXMudmVsb2NpdHlEZWx0YVsxXTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeHBsb3Npb247Il0sIm5hbWVzIjpbIk1vdmluZ09iamVjdCIsIkV4cGxvc2lvbiIsImNvbnN0cnVjdG9yIiwiZ2FtZSIsInNpemUiLCJwb3NpdGlvbiIsImV4cGxvc2lvblR5cGUiLCJ2ZWxvY2l0eURlbHRhIiwiaW1hZ2UiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJhcmdzT2JqIiwidmVsb2NpdHkiLCJzcGVlZCIsImhlYWx0aCIsIndpZHRoIiwiaGVpZ2h0IiwidHlwZSIsIm1heEZyYW1lcyIsImltZ1NpemUiLCJjdXRTaXplIiwiZnJhbWUiLCJkcmF3IiwiY3R4IiwieU9mZnNldCIsIk1hdGgiLCJmbG9vciIsInhPZmZzZXQiLCJkcmF3SW1hZ2UiLCJyZW1vdmUiLCJ1cGRhdGVWZWxvY2l0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/explosion.js\n");

/***/ }),

/***/ "./src/scripts/game.js":
/*!*****************************!*\
  !*** ./src/scripts/game.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _player_ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./player_ship */ \"./src/scripts/player_ship.js\");\n/* harmony import */ var _enemy_ship__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enemy_ship */ \"./src/scripts/enemy_ship.js\");\n/* harmony import */ var _boss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boss */ \"./src/scripts/boss.js\");\n/* harmony import */ var _sound__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sound */ \"./src/scripts/sound.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./timer */ \"./src/scripts/timer.js\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n\n\n\n// Game class handles overall game state logic\nclass Game {\n  constructor(canvas, gameView) {\n    this.canvas = canvas;\n    this.canvasWidth = canvas.width;\n    this.canvasHeight = canvas.height;\n    this.gameView = gameView;\n    this.enemyWave = 0;\n    this.addEnemyOnCooldown = true;\n    this.addedEnemies = 0;\n    this.enemiesRemaining = 0;\n    this.enemyWaveCount = 0;\n    this.score = 0;\n    this.gameOver = false;\n    this.win = false;\n    this.secretEnd = false;\n    this.startScreen = true;\n\n    // all moving objects and timers have a unique game id\n    this.idCounter = 1;\n    this.timers = {};\n    this.allMovingObjects = {\n      player: {},\n      enemies: {},\n      projectiles: {},\n      explosions: {}\n    };\n    this.player = new _player_ship__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\n    this.bossFight = false;\n    this.boss = null;\n\n    // all sounds in the game handled with the Sound class\n    this.sounds = new _sound__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this);\n  }\n\n  // apply game logic to determine next state of the game for next animation frame\n  step(timeDelta) {\n    this.checkCollisions();\n    if (!this.bossFight) this.setEnemies();\n    this.moveObjects(timeDelta);\n    this.shootProjectiles();\n  }\n  pauseTimers() {\n    Object.values(this.timers).forEach(timer => timer.pause());\n  }\n  resumeTimers() {\n    Object.values(this.timers).forEach(timer => timer.resume());\n  }\n\n  // call move() for all MovingObject objects\n  moveObjects(timeDelta) {\n    for (let key in this.allMovingObjects) {\n      Object.values(this.allMovingObjects[key]).forEach(obj => obj.move(timeDelta));\n    }\n  }\n\n  // call shoot() for all Ship objects (player and enemies)\n  shootProjectiles() {\n    this.player.shootProjectile();\n    Object.values(this.allMovingObjects.enemies).forEach(enemy => enemy.shootProjectile());\n  }\n\n  // first check projectile collisions, then check player to enemy ship collisions\n  checkCollisions() {\n    Object.values(this.allMovingObjects.projectiles).forEach(projectile => {\n      if (projectile.origin === \"player\") {\n        Object.values(this.allMovingObjects.enemies).forEach(enemy => {\n          enemy.collideCheck(projectile);\n        });\n      } else {\n        this.player.collideCheck(projectile);\n      }\n    });\n    Object.values(this.allMovingObjects.enemies).forEach(enemy => {\n      this.player.collideCheck(enemy);\n    });\n  }\n\n  // heal player 3hp per round (up to max health)\n  healPlayer() {\n    if (this.allMovingObjects.player && this.player.health > 0) {\n      this.player.health = Math.min(this.player.health + 3, _player_ship__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MAX_HEALTH);\n    }\n  }\n\n  // next wave if 0 enemies remaining, activate boss fight if last wave finished\n  // increased enemies per wave\n  // multiply score by remaining player health, and then heal player\n  setEnemies() {\n    if (this.enemiesRemaining === 0) {\n      if (this.enemyWave < Game.MAX_ENEMY_WAVE) {\n        this.enemyWave += 1;\n        this.enemyWaveCount = this.enemyWave * 5;\n        this.enemiesRemaining = this.enemyWaveCount;\n        this.addedEnemies = 0;\n        if (this.enemyWave > 1) {\n          this.score += this.player.health * 100;\n          this.healPlayer();\n        }\n      } else {\n        this.setBoss();\n      }\n    }\n\n    // throught a wave, enemies are placed in clusters of 3 to 10 at different intervals\n    if (!this.addEnemyOnCooldown) {\n      const remaining = this.enemyWaveCount - this.addedEnemies;\n      let numNewEnemies;\n      if (remaining < 10) {\n        numNewEnemies = remaining;\n      } else {\n        numNewEnemies = Math.floor(Math.random() * (10 - 3) + 3);\n      }\n      this.addedEnemies += numNewEnemies;\n\n      // randomize position, speed, and shoot cooldown for each enemy\n      for (let i = 0; i < numNewEnemies; i++) {\n        const randPosX = Math.floor(Math.random() * this.canvasWidth);\n        const randSpeed = Math.random() * (5 - 2) + 2;\n        const randCooldown = Math.floor(Math.random() * (1000 - 450) + 450);\n        new _enemy_ship__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this, randPosX, randSpeed, randCooldown);\n      }\n\n      // set cooldown before adding next group of enemies, reset flag in 1 to 3 seconds\n      this.addEnemyOnCooldown = true;\n      const randTimeOut = Math.random() * (3000 - 1000) + 1000;\n      new _timer__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, this.resetAddEnemyCooldown.bind(this), randTimeOut);\n    }\n  }\n  resetAddEnemyCooldown() {\n    this.addEnemyOnCooldown = false;\n  }\n\n  // waits for all player projectiles to clear, and temporarily disable player (for cutscene to play) \n  // also heal player and update score\n  setBoss() {\n    this.player.disabled = true;\n    if (Object.values(this.allMovingObjects.projectiles).length === 0) {\n      this.sounds.switchBGM(\"bossIncomingBGM\");\n      this.boss = new _boss__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this);\n      this.score += this.player.health * 100;\n      this.healPlayer();\n      this.bossFight = true;\n      this.gameView.switchGameInformation();\n    }\n  }\n  setWin() {\n    if (this.player?.health <= 0) this.secretEnd = true;\n    if (!this.gameOver) {\n      this.score += this.player.health * 200;\n      this.win = true;\n      this.sounds.playMajorSound(\"win\");\n    }\n  }\n  setGameOver() {\n    if (this.boss?.health <= 0) {\n      this.secretEnd = true;\n    } else if (!this.win) {\n      this.gameOver = true;\n      this.sounds.playMajorSound(\"gameOver\");\n    }\n  }\n  reset() {\n    this.enemyWave = 0;\n    this.addEnemyOnCooldown = true;\n    this.addedEnemies = 0;\n    this.enemiesRemaining = 0;\n    this.enemyWaveCount = 0;\n    this.score = 0;\n    this.gameOver = false;\n    this.win = false;\n    this.secretEnd = false;\n    this.startScreen = false;\n    this.idCounter = 0;\n    this.timers = {};\n    this.allMovingObjects = {\n      player: {},\n      enemies: {},\n      projectiles: {},\n      explosions: {}\n    };\n    this.player = new _player_ship__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\n    this.boss = null;\n    this.bossFight = false;\n    this.gameView.switchGameInformation();\n    this.sounds.reset();\n  }\n}\n_defineProperty(Game, \"MAX_ENEMY_WAVE\", 5);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Game);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsQ0FBQztJQUN6QixJQUFJLENBQUNDLGNBQWMsR0FBRyxDQUFDO0lBQ3ZCLElBQUksQ0FBQ0MsS0FBSyxHQUFHLENBQUM7SUFFZCxJQUFJLENBQUNDLFFBQVEsR0FBRyxLQUFLO0lBQ3JCLElBQUksQ0FBQ0MsR0FBRyxHQUFHLEtBQUs7SUFDaEIsSUFBSSxDQUFDQyxTQUFTLEdBQUcsS0FBSztJQUN0QixJQUFJLENBQUNDLFdBQVcsR0FBRyxLQUFLO0lBRXhCLElBQUksQ0FBQ0MsU0FBUyxHQUFHLENBQUM7SUFDbEIsSUFBSSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUc7TUFDdEJDLE1BQU0sRUFBRSxDQUFDLENBQUM7TUFDVkMsT0FBTyxFQUFFLENBQUMsQ0FBQztNQUNYQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO01BQ2ZDLFVBQVUsRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVELElBQUksQ0FBQ0gsTUFBTSxHQUFHLElBQUkxQixvREFBVSxDQUFDLElBQUksQ0FBQztJQUNsQyxJQUFJLENBQUMrQixJQUFJLEdBQUcsSUFBSTtJQUNoQixJQUFJLENBQUNELFNBQVMsR0FBRyxLQUFLO0lBQ3RCLElBQUksQ0FBQ3RCLFFBQVEsQ0FBQ29FLHFCQUFxQixFQUFFO0lBRXJDLElBQUksQ0FBQzVDLE1BQU0sQ0FBQ2dELEtBQUssRUFBRTtFQUNyQjtBQUNGO0FBQUNDLGVBQUEsQ0E3TUs1RSxJQUFJLG9CQUNnQixDQUFDO0FBOE0zQiwrREFBZUEsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtcHJvamVjdC8uL3NyYy9zY3JpcHRzL2dhbWUuanM/Y2RjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGxheWVyU2hpcCBmcm9tIFwiLi9wbGF5ZXJfc2hpcFwiO1xuaW1wb3J0IEVuZW15U2hpcCBmcm9tIFwiLi9lbmVteV9zaGlwXCI7XG5pbXBvcnQgQm9zcyBmcm9tIFwiLi9ib3NzXCI7XG5pbXBvcnQgU291bmQgZnJvbSBcIi4vc291bmRcIjtcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiO1xuXG4vLyBHYW1lIGNsYXNzIGhhbmRsZXMgb3ZlcmFsbCBnYW1lIHN0YXRlIGxvZ2ljXG5jbGFzcyBHYW1lIHtcbiAgc3RhdGljIE1BWF9FTkVNWV9XQVZFID0gNTtcblxuICBjb25zdHJ1Y3RvcihjYW52YXMsIGdhbWVWaWV3KSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5jYW52YXNXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB0aGlzLmNhbnZhc0hlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgdGhpcy5nYW1lVmlldyA9IGdhbWVWaWV3O1xuXG4gICAgdGhpcy5lbmVteVdhdmUgPSAwO1xuICAgIHRoaXMuYWRkRW5lbXlPbkNvb2xkb3duID0gdHJ1ZTtcbiAgICB0aGlzLmFkZGVkRW5lbWllcyA9IDA7XG4gICAgdGhpcy5lbmVtaWVzUmVtYWluaW5nID0gMDtcbiAgICB0aGlzLmVuZW15V2F2ZUNvdW50ID0gMDtcblxuICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLndpbiA9IGZhbHNlO1xuICAgIHRoaXMuc2VjcmV0RW5kID0gZmFsc2U7XG4gICAgdGhpcy5zdGFydFNjcmVlbiA9IHRydWU7XG5cbiAgICAvLyBhbGwgbW92aW5nIG9iamVjdHMgYW5kIHRpbWVycyBoYXZlIGEgdW5pcXVlIGdhbWUgaWRcbiAgICB0aGlzLmlkQ291bnRlciA9IDE7XG4gICAgdGhpcy50aW1lcnMgPSB7fTtcbiAgICB0aGlzLmFsbE1vdmluZ09iamVjdHMgPSB7XG4gICAgICBwbGF5ZXI6IHt9LFxuICAgICAgZW5lbWllczoge30sXG4gICAgICBwcm9qZWN0aWxlczoge30sXG4gICAgICBleHBsb3Npb25zOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXJTaGlwKHRoaXMpO1xuICAgIHRoaXMuYm9zc0ZpZ2h0ID0gZmFsc2U7XG4gICAgdGhpcy5ib3NzID0gbnVsbDtcblxuICAgIC8vIGFsbCBzb3VuZHMgaW4gdGhlIGdhbWUgaGFuZGxlZCB3aXRoIHRoZSBTb3VuZCBjbGFzc1xuICAgIHRoaXMuc291bmRzID0gbmV3IFNvdW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gYXBwbHkgZ2FtZSBsb2dpYyB0byBkZXRlcm1pbmUgbmV4dCBzdGF0ZSBvZiB0aGUgZ2FtZSBmb3IgbmV4dCBhbmltYXRpb24gZnJhbWVcbiAgc3RlcCh0aW1lRGVsdGEpIHtcbiAgICB0aGlzLmNoZWNrQ29sbGlzaW9ucygpO1xuICAgIGlmICghdGhpcy5ib3NzRmlnaHQpIHRoaXMuc2V0RW5lbWllcygpO1xuICAgIHRoaXMubW92ZU9iamVjdHModGltZURlbHRhKTtcbiAgICB0aGlzLnNob290UHJvamVjdGlsZXMoKTtcbiAgfVxuXG4gIHBhdXNlVGltZXJzKCkge1xuICAgIE9iamVjdC52YWx1ZXModGhpcy50aW1lcnMpLmZvckVhY2godGltZXIgPT4gdGltZXIucGF1c2UoKSk7XG4gIH1cblxuICByZXN1bWVUaW1lcnMoKSB7XG4gICAgT2JqZWN0LnZhbHVlcyh0aGlzLnRpbWVycykuZm9yRWFjaCh0aW1lciA9PiB0aW1lci5yZXN1bWUoKSk7XG4gIH1cblxuICAvLyBjYWxsIG1vdmUoKSBmb3IgYWxsIE1vdmluZ09iamVjdCBvYmplY3RzXG4gIG1vdmVPYmplY3RzKHRpbWVEZWx0YSkge1xuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmFsbE1vdmluZ09iamVjdHMpIHtcbiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5hbGxNb3ZpbmdPYmplY3RzW2tleV0pLmZvckVhY2gob2JqID0+IG9iai5tb3ZlKHRpbWVEZWx0YSkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNhbGwgc2hvb3QoKSBmb3IgYWxsIFNoaXAgb2JqZWN0cyAocGxheWVyIGFuZCBlbmVtaWVzKVxuICBzaG9vdFByb2plY3RpbGVzKCkge1xuICAgIHRoaXMucGxheWVyLnNob290UHJvamVjdGlsZSgpO1xuICAgIE9iamVjdC52YWx1ZXModGhpcy5hbGxNb3ZpbmdPYmplY3RzLmVuZW1pZXMpLmZvckVhY2goZW5lbXkgPT4gZW5lbXkuc2hvb3RQcm9qZWN0aWxlKCkpO1xuICB9XG5cbiAgLy8gZmlyc3QgY2hlY2sgcHJvamVjdGlsZSBjb2xsaXNpb25zLCB0aGVuIGNoZWNrIHBsYXllciB0byBlbmVteSBzaGlwIGNvbGxpc2lvbnNcbiAgY2hlY2tDb2xsaXNpb25zKCkge1xuICAgIE9iamVjdC52YWx1ZXModGhpcy5hbGxNb3ZpbmdPYmplY3RzLnByb2plY3RpbGVzKS5mb3JFYWNoKHByb2plY3RpbGUgPT4ge1xuICAgICAgaWYgKHByb2plY3RpbGUub3JpZ2luID09PSBcInBsYXllclwiKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5hbGxNb3ZpbmdPYmplY3RzLmVuZW1pZXMpLmZvckVhY2goZW5lbXkgPT4ge1xuICAgICAgICAgIGVuZW15LmNvbGxpZGVDaGVjayhwcm9qZWN0aWxlKTtcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGxheWVyLmNvbGxpZGVDaGVjayhwcm9qZWN0aWxlKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIE9iamVjdC52YWx1ZXModGhpcy5hbGxNb3ZpbmdPYmplY3RzLmVuZW1pZXMpLmZvckVhY2goZW5lbXkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXIuY29sbGlkZUNoZWNrKGVuZW15KTtcbiAgICB9KVxuICB9XG5cbiAgLy8gaGVhbCBwbGF5ZXIgM2hwIHBlciByb3VuZCAodXAgdG8gbWF4IGhlYWx0aClcbiAgaGVhbFBsYXllcigpIHtcbiAgICBpZiAodGhpcy5hbGxNb3ZpbmdPYmplY3RzLnBsYXllciAmJiB0aGlzLnBsYXllci5oZWFsdGggPiAwKSB7XG4gICAgICB0aGlzLnBsYXllci5oZWFsdGggPSBNYXRoLm1pbih0aGlzLnBsYXllci5oZWFsdGggKyAzLCBQbGF5ZXJTaGlwLk1BWF9IRUFMVEgpXG4gICAgfVxuICB9XG5cbiAgLy8gbmV4dCB3YXZlIGlmIDAgZW5lbWllcyByZW1haW5pbmcsIGFjdGl2YXRlIGJvc3MgZmlnaHQgaWYgbGFzdCB3YXZlIGZpbmlzaGVkXG4gICAgLy8gaW5jcmVhc2VkIGVuZW1pZXMgcGVyIHdhdmVcbiAgICAvLyBtdWx0aXBseSBzY29yZSBieSByZW1haW5pbmcgcGxheWVyIGhlYWx0aCwgYW5kIHRoZW4gaGVhbCBwbGF5ZXJcbiAgc2V0RW5lbWllcygpIHtcbiAgICBpZiAodGhpcy5lbmVtaWVzUmVtYWluaW5nID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5lbmVteVdhdmUgPCBHYW1lLk1BWF9FTkVNWV9XQVZFKSB7XG4gICAgICAgIHRoaXMuZW5lbXlXYXZlICs9IDE7XG4gICAgICAgIHRoaXMuZW5lbXlXYXZlQ291bnQgPSB0aGlzLmVuZW15V2F2ZSAqIDU7XG4gICAgICAgIHRoaXMuZW5lbWllc1JlbWFpbmluZyA9IHRoaXMuZW5lbXlXYXZlQ291bnQ7XG4gICAgICAgIHRoaXMuYWRkZWRFbmVtaWVzID0gMDtcblxuICAgICAgICBpZiAodGhpcy5lbmVteVdhdmUgPiAxKSB7XG4gICAgICAgICAgdGhpcy5zY29yZSArPSAodGhpcy5wbGF5ZXIuaGVhbHRoICogMTAwKTtcbiAgICAgICAgICB0aGlzLmhlYWxQbGF5ZXIoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRCb3NzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhyb3VnaHQgYSB3YXZlLCBlbmVtaWVzIGFyZSBwbGFjZWQgaW4gY2x1c3RlcnMgb2YgMyB0byAxMCBhdCBkaWZmZXJlbnQgaW50ZXJ2YWxzXG4gICAgaWYgKCF0aGlzLmFkZEVuZW15T25Db29sZG93bikge1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5lbmVteVdhdmVDb3VudCAtIHRoaXMuYWRkZWRFbmVtaWVzO1xuXG4gICAgICBsZXQgbnVtTmV3RW5lbWllcztcbiAgICAgIGlmIChyZW1haW5pbmcgPCAxMCkge1xuICAgICAgICBudW1OZXdFbmVtaWVzID0gcmVtYWluaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtTmV3RW5lbWllcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxMCAtIDMpICsgMyk7XG4gICAgICB9XG4gICAgICB0aGlzLmFkZGVkRW5lbWllcyArPSBudW1OZXdFbmVtaWVzO1xuXG4gICAgICAvLyByYW5kb21pemUgcG9zaXRpb24sIHNwZWVkLCBhbmQgc2hvb3QgY29vbGRvd24gZm9yIGVhY2ggZW5lbXlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTmV3RW5lbWllczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJhbmRQb3NYID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5jYW52YXNXaWR0aCk7XG4gICAgICAgIGNvbnN0IHJhbmRTcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAoNSAtIDIpICsgMjtcbiAgICAgICAgY29uc3QgcmFuZENvb2xkb3duID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwMDAgLSA0NTApICsgNDUwKTtcbiAgICAgICAgbmV3IEVuZW15U2hpcCh0aGlzLCByYW5kUG9zWCwgcmFuZFNwZWVkLCByYW5kQ29vbGRvd24pO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgY29vbGRvd24gYmVmb3JlIGFkZGluZyBuZXh0IGdyb3VwIG9mIGVuZW1pZXMsIHJlc2V0IGZsYWcgaW4gMSB0byAzIHNlY29uZHNcbiAgICAgIHRoaXMuYWRkRW5lbXlPbkNvb2xkb3duID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJhbmRUaW1lT3V0ID0gTWF0aC5yYW5kb20oKSAqICgzMDAwIC0gMTAwMCkgKyAxMDAwO1xuICAgICAgbmV3IFRpbWVyKHRoaXMsIHRoaXMucmVzZXRBZGRFbmVteUNvb2xkb3duLmJpbmQodGhpcyksIHJhbmRUaW1lT3V0KTtcbiAgICB9XG4gIH1cblxuICByZXNldEFkZEVuZW15Q29vbGRvd24oKSB7XG4gICAgdGhpcy5hZGRFbmVteU9uQ29vbGRvd24gPSBmYWxzZTtcbiAgfVxuXG4gIC8vIHdhaXRzIGZvciBhbGwgcGxheWVyIHByb2plY3RpbGVzIHRvIGNsZWFyLCBhbmQgdGVtcG9yYXJpbHkgZGlzYWJsZSBwbGF5ZXIgKGZvciBjdXRzY2VuZSB0byBwbGF5KSBcbiAgLy8gYWxzbyBoZWFsIHBsYXllciBhbmQgdXBkYXRlIHNjb3JlXG4gIHNldEJvc3MoKSB7XG4gICAgdGhpcy5wbGF5ZXIuZGlzYWJsZWQgPSB0cnVlO1xuICAgIGlmIChPYmplY3QudmFsdWVzKHRoaXMuYWxsTW92aW5nT2JqZWN0cy5wcm9qZWN0aWxlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnNvdW5kcy5zd2l0Y2hCR00oXCJib3NzSW5jb21pbmdCR01cIik7XG4gICAgICB0aGlzLmJvc3MgPSBuZXcgQm9zcyh0aGlzKTtcbiAgICAgIHRoaXMuc2NvcmUgKz0gKHRoaXMucGxheWVyLmhlYWx0aCAqIDEwMCk7XG4gICAgICB0aGlzLmhlYWxQbGF5ZXIoKTtcbiAgICAgIHRoaXMuYm9zc0ZpZ2h0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuZ2FtZVZpZXcuc3dpdGNoR2FtZUluZm9ybWF0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0V2luKCkge1xuICAgIGlmICh0aGlzLnBsYXllcj8uaGVhbHRoIDw9IDApIHRoaXMuc2VjcmV0RW5kID0gdHJ1ZTtcblxuICAgIGlmICghdGhpcy5nYW1lT3Zlcikge1xuICAgICAgdGhpcy5zY29yZSArPSAodGhpcy5wbGF5ZXIuaGVhbHRoICogMjAwKTtcbiAgICAgIHRoaXMud2luID0gdHJ1ZTtcbiAgICAgIHRoaXMuc291bmRzLnBsYXlNYWpvclNvdW5kKFwid2luXCIpO1xuICAgIH1cbiAgfVxuXG4gIHNldEdhbWVPdmVyKCkge1xuICAgIGlmICh0aGlzLmJvc3M/LmhlYWx0aCA8PSAwKSB7XG4gICAgICB0aGlzLnNlY3JldEVuZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghdGhpcy53aW4pIHtcbiAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5zb3VuZHMucGxheU1ham9yU291bmQoXCJnYW1lT3ZlclwiKTtcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmVuZW15V2F2ZSA9IDA7XG4gICAgdGhpcy5hZGRFbmVteU9uQ29vbGRvd24gPSB0cnVlO1xuICAgIHRoaXMuYWRkZWRFbmVtaWVzID0gMDtcbiAgICB0aGlzLmVuZW1pZXNSZW1haW5pbmcgPSAwO1xuICAgIHRoaXMuZW5lbXlXYXZlQ291bnQgPSAwO1xuICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgIFxuICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLndpbiA9IGZhbHNlO1xuICAgIHRoaXMuc2VjcmV0RW5kID0gZmFsc2U7XG4gICAgdGhpcy5zdGFydFNjcmVlbiA9IGZhbHNlO1xuICAgIFxuICAgIHRoaXMuaWRDb3VudGVyID0gMDtcbiAgICB0aGlzLnRpbWVycyA9IHt9O1xuICAgIHRoaXMuYWxsTW92aW5nT2JqZWN0cyA9IHtcbiAgICAgIHBsYXllcjoge30sXG4gICAgICBlbmVtaWVzOiB7fSxcbiAgICAgIHByb2plY3RpbGVzOiB7fSxcbiAgICAgIGV4cGxvc2lvbnM6IHt9XG4gICAgfTtcblxuICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllclNoaXAodGhpcyk7XG4gICAgdGhpcy5ib3NzID0gbnVsbDtcbiAgICB0aGlzLmJvc3NGaWdodCA9IGZhbHNlO1xuICAgIHRoaXMuZ2FtZVZpZXcuc3dpdGNoR2FtZUluZm9ybWF0aW9uKCk7XG5cbiAgICB0aGlzLnNvdW5kcy5yZXNldCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWU7Il0sIm5hbWVzIjpbIlBsYXllclNoaXAiLCJFbmVteVNoaXAiLCJCb3NzIiwiU291bmQiLCJUaW1lciIsIkdhbWUiLCJjb25zdHJ1Y3RvciIsImNhbnZhcyIsImdhbWVWaWV3IiwiY2FudmFzV2lkdGgiLCJ3aWR0aCIsImNhbnZhc0hlaWdodCIsImhlaWdodCIsImVuZW15V2F2ZSIsImFkZEVuZW15T25Db29sZG93biIsImFkZGVkRW5lbWllcyIsImVuZW1pZXNSZW1haW5pbmciLCJlbmVteVdhdmVDb3VudCIsInNjb3JlIiwiZ2FtZU92ZXIiLCJ3aW4iLCJzZWNyZXRFbmQiLCJzdGFydFNjcmVlbiIsImlkQ291bnRlciIsInRpbWVycyIsImFsbE1vdmluZ09iamVjdHMiLCJwbGF5ZXIiLCJlbmVtaWVzIiwicHJvamVjdGlsZXMiLCJleHBsb3Npb25zIiwiYm9zc0ZpZ2h0IiwiYm9zcyIsInNvdW5kcyIsInN0ZXAiLCJ0aW1lRGVsdGEiLCJjaGVja0NvbGxpc2lvbnMiLCJzZXRFbmVtaWVzIiwibW92ZU9iamVjdHMiLCJzaG9vdFByb2plY3RpbGVzIiwicGF1c2VUaW1lcnMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwidGltZXIiLCJwYXVzZSIsInJlc3VtZVRpbWVycyIsInJlc3VtZSIsImtleSIsIm9iaiIsIm1vdmUiLCJzaG9vdFByb2plY3RpbGUiLCJlbmVteSIsInByb2plY3RpbGUiLCJvcmlnaW4iLCJjb2xsaWRlQ2hlY2siLCJoZWFsUGxheWVyIiwiaGVhbHRoIiwiTWF0aCIsIm1pbiIsIk1BWF9IRUFMVEgiLCJNQVhfRU5FTVlfV0FWRSIsInNldEJvc3MiLCJyZW1haW5pbmciLCJudW1OZXdFbmVtaWVzIiwiZmxvb3IiLCJyYW5kb20iLCJpIiwicmFuZFBvc1giLCJyYW5kU3BlZWQiLCJyYW5kQ29vbGRvd24iLCJyYW5kVGltZU91dCIsInJlc2V0QWRkRW5lbXlDb29sZG93biIsImJpbmQiLCJkaXNhYmxlZCIsImxlbmd0aCIsInN3aXRjaEJHTSIsInN3aXRjaEdhbWVJbmZvcm1hdGlvbiIsInNldFdpbiIsInBsYXlNYWpvclNvdW5kIiwic2V0R2FtZU92ZXIiLCJyZXNldCIsIl9kZWZpbmVQcm9wZXJ0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/game.js\n");

/***/ }),

/***/ "./src/scripts/game_view.js":
/*!**********************************!*\
  !*** ./src/scripts/game_view.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game */ \"./src/scripts/game.js\");\n/* harmony import */ var _boss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./boss */ \"./src/scripts/boss.js\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n// GameView handles anything canvas/html related, and event handlers\nclass GameView {\n  // player movement keybind mappings\n\n  // prevent shooting when clicking these html elements\n\n  constructor(canvas, ctx) {\n    this.ctx = ctx;\n    this.canvas = canvas;\n    this.canvasWidth = canvas.width;\n    this.canvasHeight = canvas.height;\n    this.game = new _game__WEBPACK_IMPORTED_MODULE_0__[\"default\"](canvas, this);\n\n    // html game info elements that get updated throughout the game\n    this.scoreSpan = document.getElementById(\"score\");\n    this.playerHealthBar = document.getElementById(\"player-health-bar\");\n    this.bossHealthBar = document.getElementById(\"boss-health-bar\");\n    this.bossInfo = document.getElementById(\"boss-info\");\n    this.waveInfo = document.getElementById(\"wave-info\");\n    this.waveSpan = document.getElementById(\"wave-number\");\n    this.enemiesRemainingSpan = document.getElementById(\"enemies-remaining\");\n\n    // moving background in the canvas element\n    // x, y are the background position offsets as it moves (only y changes)\n    // dy controls change in speed\n    const backgroundImg = new Image();\n    backgroundImg.src = \"src/assets/images/game_background.png\";\n    this.backgroundOptions = {\n      img: backgroundImg,\n      x: 0,\n      y: 700,\n      dy: 0.5\n    };\n\n    // mouse follow options\n    this.touchOnElement = document.getElementById(\"touch-on\");\n    this.touchOffElement = document.getElementById(\"touch-off\");\n    this.mouseFollow = false;\n    this.mousePosition = null; // {x: xValue, y: yValue}\n\n    // pause options\n    this.pauseOnElement = document.getElementById(\"pause-on\");\n    this.pauseOffElement = document.getElementById(\"pause-off\");\n    this.pauseText = document.getElementById(\"pause-text\");\n    this.pause = false;\n    this.toggleSound = false;\n\n    // only want to draw start, win, and game over messages once;\n    this.messageDrawn = false;\n    this.bindSettingListeners();\n    this.bindStartHandler();\n  }\n\n  // starts up the animate recursive call loop, and draws initial background\n  start() {\n    this.lastTime = 0;\n    this.drawBackground();\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  // draw next state of the game, or start/win/game over message\n  animate(time) {\n    if (this.game.startScreen || this.game.gameOver || this.game.win) {\n      if (this.pause) this.handlePauseToggle();\n      this.drawStartWinGameOver();\n    } else if (!this.pause) {\n      this.draw();\n      this.updateGameInfo();\n      const timeDelta = time - this.lastTime;\n      this.game.step(timeDelta);\n    }\n    this.lastTime = time;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  // draw start/win/game over message once and remove player controls\n  drawStartWinGameOver() {\n    if (!this.messageDrawn) {\n      const message = this.game.startScreen ? [\"Press any key or click here to\", \"START\"] : this.game.secretEnd ? \"🫡\" : this.game.gameOver ? \"GAME OVER\" : \"YOU WIN\";\n      this.ctx.textAlign = \"center\";\n      this.ctx.fillStyle = \"white\";\n      if (this.game.startScreen) {\n        this.ctx.font = \"40px roboto\";\n        this.ctx.fillText(message[0], this.canvasWidth / 2, this.canvasHeight / 2 - 50);\n        this.ctx.font = \"48px roboto\";\n        this.ctx.fillText(message[1], this.canvasWidth / 2, this.canvasHeight / 2);\n      } else {\n        this.ctx.font = \"48px roboto\";\n        this.ctx.fillText(message, this.canvasWidth / 2, this.canvasHeight / 2);\n      }\n      this.messageDrawn = true;\n      if (this.game.gameOver || this.game.win) {\n        this.removeControlHandlers();\n        this.updateScore();\n        setTimeout(this.drawRetryKey.bind(this, this.ctx), 3000);\n      }\n      ;\n    }\n  }\n  drawRetryKey() {\n    const message = this.game.secretEnd ? \"(press any key or click here for a secret mission 🦫)\" : \"(press any key or click here to retry)\";\n    this.ctx.font = \"24px roboto\";\n    this.ctx.fillText(message, this.canvasWidth / 2, this.canvasHeight / 2 + 50);\n    this.bindRetryHandler();\n  }\n  drawPause() {\n    this.ctx.textAlign = \"center\";\n    this.ctx.fillStyle = \"white\";\n    this.ctx.font = \"48px roboto\";\n    this.ctx.fillText(\"PAUSED\", this.canvasWidth / 2, this.canvasHeight / 2);\n  }\n\n  // draw moving background and then all game objects\n  draw() {\n    this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n    this.drawBackground();\n    for (let key in this.game.allMovingObjects) {\n      Object.values(this.game.allMovingObjects[key]).forEach(obj => obj.draw(this.ctx));\n    }\n  }\n\n  // canvas background moves vertically downward\n  drawBackground() {\n    const img = this.backgroundOptions.img;\n\n    // if end is reached, reset image back to beginning\n    if (this.backgroundOptions.y > this.canvasHeight) {\n      this.backgroundOptions.y = -img.height + this.backgroundOptions.y;\n    }\n\n    // if looping around, cut remaining end and draw below new\n    if (this.backgroundOptions.y > 0) {\n      this.ctx.drawImage(img, this.backgroundOptions.x, -img.height + this.backgroundOptions.y, img.width, img.height);\n    }\n\n    // draw background and then update new position\n    this.ctx.drawImage(img, this.backgroundOptions.x, this.backgroundOptions.y, img.width, img.height);\n    this.backgroundOptions.y += this.backgroundOptions.dy;\n  }\n\n  // updates all game info related html elements\n  updateGameInfo() {\n    this.updateScore();\n    this.updateHealthBar('player');\n    if (this.game.bossFight) {\n      this.updateHealthBar('boss');\n    } else {\n      this.waveSpan.innerText = this.game.enemyWave;\n      this.enemiesRemainingSpan.innerText = this.game.enemiesRemaining;\n    }\n  }\n  updateScore() {\n    this.scoreSpan.innerText = this.game.score;\n  }\n\n  // updates either boss or player hp\n  updateHealthBar(type) {\n    let obj, healthBar;\n    if (type === 'player') {\n      obj = this.game.player;\n      healthBar = this.playerHealthBar;\n    } else {\n      obj = this.game.boss;\n      healthBar = this.bossHealthBar;\n    }\n    let health = obj.health;\n    const healthPoint = document.createElement(\"li\");\n    healthPoint.setAttribute(\"class\", `${type}-health-point`);\n    if (type === 'boss') health = Math.ceil(health / (_boss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MAX_HEALTH / 10));\n    if (healthBar.children.length < health) {\n      for (let i = 0; i < health - healthBar.children.length; i++) {\n        healthBar.appendChild(healthPoint);\n      }\n    } else if (healthBar.children.length > health) {\n      for (let i = 0; i < healthBar.children.length - health; i++) {\n        const lastChild = healthBar.lastChild;\n        if (lastChild) healthBar.removeChild(healthBar.lastChild);\n      }\n    }\n  }\n\n  // switches between boss and enemy wave html elements \n  switchGameInformation() {\n    if (this.game.bossFight) {\n      this.waveInfo.style.display = \"none\";\n      this.bossInfo.style.display = \"flex\";\n    } else {\n      this.waveInfo.style.display = \"flex\";\n      this.bossInfo.style.display = \"none\";\n    }\n  }\n\n  // start playing the game\n  handleStartKey(event) {\n    if (event?.key === \" \") event.preventDefault();\n    this.game.sounds.switchBGM(\"waveBGM\");\n    this.game.startScreen = false;\n    document.removeEventListener(\"keypress\", this.startHandler);\n    this.canvas.removeEventListener(\"pointerdown\", this.startHandler);\n    this.bindControlHandlers();\n    setTimeout(this.game.resetAddEnemyCooldown.bind(this.game), 1500);\n    this.messageDrawn = false;\n  }\n  bindStartHandler() {\n    this.startHandler = this.handleStartKey.bind(this);\n    document.addEventListener(\"keypress\", this.startHandler);\n    this.canvas.addEventListener(\"pointerdown\", this.startHandler);\n  }\n\n  // retry on win/game over\n  handleRetryKey(event) {\n    if (this.game.secretEnd) location.href = \"https://fk652.github.io/capybaby-in-space/\";\n    if (event?.key === \" \") event.preventDefault();\n    document.removeEventListener(\"keypress\", this.retryHandler);\n    this.canvas.removeEventListener(\"pointerdown\", this.retryHandler);\n    this.game.reset();\n    this.bindControlHandlers();\n    setTimeout(this.game.resetAddEnemyCooldown.bind(this.game), 1500);\n    this.messageDrawn = false;\n  }\n  bindRetryHandler() {\n    this.retryHandler = this.handleRetryKey.bind(this);\n    document.addEventListener(\"keypress\", this.retryHandler);\n    this.canvas.addEventListener(\"pointerdown\", this.retryHandler);\n  }\n\n  // mouse/touch follow movements\n  handleMouseMove(event) {\n    const rect = this.canvas.getBoundingClientRect();\n    const xScale = this.canvas.width / rect.width;\n    const yScale = this.canvas.height / rect.height;\n    const x = (event.clientX - rect.left) * xScale;\n    const y = (event.clientY - rect.top) * yScale;\n    this.mousePosition = {\n      x,\n      y\n    };\n  }\n  handleMouseOut() {\n    this.mousePosition = null;\n  }\n  handleMouseFollowToggle() {\n    if (this.mouseFollow) {\n      this.touchOnElement.style.display = 'none';\n      this.touchOffElement.style.display = 'block';\n    } else {\n      this.touchOnElement.style.display = 'block';\n      this.touchOffElement.style.display = 'none';\n    }\n    this.mouseFollow = !this.mouseFollow;\n  }\n\n  // pause/unpause\n  handlePauseToggle() {\n    if ((this.game.startScreen || this.game.gameOver || this.game.win) && !this.pause) {\n      return;\n    }\n    if (this.pause) {\n      this.game.resumeTimers();\n      this.pauseOnElement.style.display = 'none';\n      this.pauseOffElement.style.display = 'block';\n      this.pauseText.innerText = 'pause';\n    } else {\n      this.game.pauseTimers();\n      this.pauseOnElement.style.display = 'block';\n      this.pauseOffElement.style.display = 'none';\n      this.pauseText.innerText = 'play';\n      this.drawPause();\n    }\n    this.pause = !this.pause;\n  }\n\n  // pause and mute when tabbed out or game is out of focus\n  handleVisibilityChange() {\n    if (document.hidden && !(this.game.startScreen || this.game.gameOver || this.game.win) && !this.pause) {\n      this.handlePauseToggle();\n    }\n    if (document.hidden && this.game.sounds.toggle) {\n      this.game.sounds.handleSoundToggle();\n      this.toggleSound = true;\n    } else if (!document.hidden && this.toggleSound) {\n      this.game.sounds.handleSoundToggle();\n      this.toggleSound = false;\n    }\n  }\n\n  // setting option keybinds\n  handleSettingKeybinds(event) {\n    if (event.key === \" \") event.preventDefault();else if (event.key === \"m\") this.handleMouseFollowToggle();else if (event.key === \"k\") this.game.sounds.handleSoundToggle();else if (event.key === \"p\") this.handlePauseToggle();\n  }\n\n  // binds all setting related handlers (pause/unpause, mouse/touch follow, mute/unmute)\n  bindSettingListeners() {\n    document.addEventListener(\"keydown\", this.handleSettingKeybinds.bind(this));\n    const touchContainer = document.getElementById(\"touch-icons-container\");\n    touchContainer.addEventListener(\"click\", this.handleMouseFollowToggle.bind(this));\n    if ('ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) {\n      document.getElementById(\"touch-text\").innerText = \"touch follow\";\n      this.handleMouseFollowToggle();\n    }\n    const pauseContainer = document.getElementById(\"pause-icons-container\");\n    pauseContainer.addEventListener(\"click\", this.handlePauseToggle.bind(this));\n    document.addEventListener(\"visibilitychange\", this.handleVisibilityChange.bind(this));\n  }\n\n  // player controls (arrow/wasd to move, spacebar to shoot)\n  handleKeyDown(event) {\n    event.preventDefault();\n    if (GameView.RIGHT_KEYS.includes(event.key)) this.game.player.keysPressed.right = true;else if (GameView.LEFT_KEYS.includes(event.key)) this.game.player.keysPressed.left = true;else if (GameView.UP_KEYS.includes(event.key)) this.game.player.keysPressed.up = true;else if (GameView.DOWN_KEYS.includes(event.key)) this.game.player.keysPressed.down = true;else if (event.key === \" \") this.game.player.keysPressed.shoot = true;\n  }\n  handleKeyUp(event) {\n    if (event.key === \" \") event.preventDefault();\n    if (GameView.RIGHT_KEYS.includes(event.key)) this.game.player.keysPressed.right = false;else if (GameView.LEFT_KEYS.includes(event.key)) this.game.player.keysPressed.left = false;else if (GameView.UP_KEYS.includes(event.key)) this.game.player.keysPressed.up = false;else if (GameView.DOWN_KEYS.includes(event.key)) this.game.player.keysPressed.down = false;else if (event.key === \" \") this.game.player.keysPressed.shoot = false;\n  }\n\n  // mouse click/hold to shoot\n  handleMouseDown(event) {\n    const parentId = event.target.parentNode.id;\n    if (!GameView.IGNORE_TARGETS.includes(parentId)) this.game.player.keysPressed.shoot = true;\n  }\n  handleMouseUp() {\n    this.game.player.keysPressed.shoot = false;\n  }\n  bindControlHandlers() {\n    this.keyDownHandler = this.handleKeyDown.bind(this);\n    this.keyUpHandler = this.handleKeyUp.bind(this);\n    this.mouseDownHandler = this.handleMouseDown.bind(this);\n    this.mouseUpHandler = this.handleMouseUp.bind(this);\n    this.mouseMoveHandler = this.handleMouseMove.bind(this);\n    this.mouseOutHandler = this.handleMouseOut.bind(this);\n    document.addEventListener(\"keydown\", this.keyDownHandler);\n    document.addEventListener(\"keyup\", this.keyUpHandler);\n    document.addEventListener(\"pointerdown\", this.mouseDownHandler);\n    document.addEventListener(\"pointerup\", this.mouseUpHandler);\n    document.addEventListener(\"pointermove\", this.mouseMoveHandler);\n    document.addEventListener(\"pointerout\", this.mouseOutHandler);\n  }\n  removeControlHandlers() {\n    document.removeEventListener(\"keydown\", this.keyDownHandler);\n    document.removeEventListener(\"keyup\", this.keyUpHandler);\n    document.removeEventListener(\"pointerdown\", this.mouseDownHandler);\n    document.removeEventListener(\"pointerup\", this.mouseUpHandler);\n    document.removeEventListener(\"pointermove\", this.mouseMoveHandler);\n    document.removeEventListener(\"pointerout\", this.mouseOutHandler);\n  }\n}\n_defineProperty(GameView, \"UP_KEYS\", [\"ArrowUp\", 'w']);\n_defineProperty(GameView, \"DOWN_KEYS\", [\"ArrowDown\", 's']);\n_defineProperty(GameView, \"RIGHT_KEYS\", [\"ArrowRight\", 'd']);\n_defineProperty(GameView, \"LEFT_KEYS\", [\"ArrowLeft\", 'a']);\n_defineProperty(GameView, \"IGNORE_TARGETS\", [\"sound-on\", \"sound-off\", \"sound-icons-container\", \"touch-on\", \"touch-off\", \"touch-container\", \"pause-on\", \"pause-off\", \"pause-container\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cHJvamVjdC8uL3NyYy9zY3JpcHRzL2dhbWVfdmlldy5qcz84MGVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWVcIjtcbmltcG9ydCBCb3NzIGZyb20gXCIuL2Jvc3NcIjtcblxuLy8gR2FtZVZpZXcgaGFuZGxlcyBhbnl0aGluZyBjYW52YXMvaHRtbCByZWxhdGVkLCBhbmQgZXZlbnQgaGFuZGxlcnNcbmNsYXNzIEdhbWVWaWV3IHtcbiAgLy8gcGxheWVyIG1vdmVtZW50IGtleWJpbmQgbWFwcGluZ3NcbiAgc3RhdGljIFVQX0tFWVMgPSBbXCJBcnJvd1VwXCIsICd3J11cbiAgc3RhdGljIERPV05fS0VZUyA9IFtcIkFycm93RG93blwiLCAncyddXG4gIHN0YXRpYyBSSUdIVF9LRVlTID0gW1wiQXJyb3dSaWdodFwiLCAnZCddXG4gIHN0YXRpYyBMRUZUX0tFWVMgPSBbXCJBcnJvd0xlZnRcIiwgJ2EnXVxuXG4gIC8vIHByZXZlbnQgc2hvb3Rpbmcgd2hlbiBjbGlja2luZyB0aGVzZSBodG1sIGVsZW1lbnRzXG4gIHN0YXRpYyBJR05PUkVfVEFSR0VUUyA9IFtcbiAgICBcInNvdW5kLW9uXCIsIFxuICAgIFwic291bmQtb2ZmXCIsIFxuICAgIFwic291bmQtaWNvbnMtY29udGFpbmVyXCIsIFxuICAgIFwidG91Y2gtb25cIiwgXG4gICAgXCJ0b3VjaC1vZmZcIiwgXG4gICAgXCJ0b3VjaC1jb250YWluZXJcIixcbiAgICBcInBhdXNlLW9uXCIsIFxuICAgIFwicGF1c2Utb2ZmXCIsIFxuICAgIFwicGF1c2UtY29udGFpbmVyXCJcbiAgXVxuXG4gIGNvbnN0cnVjdG9yKGNhbnZhcywgY3R4KSB7XG4gICAgdGhpcy5jdHggPSBjdHg7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5jYW52YXNXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB0aGlzLmNhbnZhc0hlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgdGhpcy5nYW1lID0gbmV3IEdhbWUoY2FudmFzLCB0aGlzKTtcblxuICAgIC8vIGh0bWwgZ2FtZSBpbmZvIGVsZW1lbnRzIHRoYXQgZ2V0IHVwZGF0ZWQgdGhyb3VnaG91dCB0aGUgZ2FtZVxuICAgIHRoaXMuc2NvcmVTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKTtcbiAgICB0aGlzLnBsYXllckhlYWx0aEJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyLWhlYWx0aC1iYXJcIik7XG4gICAgdGhpcy5ib3NzSGVhbHRoQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib3NzLWhlYWx0aC1iYXJcIik7XG4gICAgdGhpcy5ib3NzSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9zcy1pbmZvXCIpO1xuICAgIHRoaXMud2F2ZUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndhdmUtaW5mb1wiKTtcbiAgICB0aGlzLndhdmVTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXZlLW51bWJlclwiKTtcbiAgICB0aGlzLmVuZW1pZXNSZW1haW5pbmdTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmVtaWVzLXJlbWFpbmluZ1wiKTtcblxuICAgIC8vIG1vdmluZyBiYWNrZ3JvdW5kIGluIHRoZSBjYW52YXMgZWxlbWVudFxuICAgIC8vIHgsIHkgYXJlIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uIG9mZnNldHMgYXMgaXQgbW92ZXMgKG9ubHkgeSBjaGFuZ2VzKVxuICAgIC8vIGR5IGNvbnRyb2xzIGNoYW5nZSBpbiBzcGVlZFxuICAgIGNvbnN0IGJhY2tncm91bmRJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBiYWNrZ3JvdW5kSW1nLnNyYyA9IFwic3JjL2Fzc2V0cy9pbWFnZXMvZ2FtZV9iYWNrZ3JvdW5kLnBuZ1wiO1xuICAgIHRoaXMuYmFja2dyb3VuZE9wdGlvbnMgPSB7XG4gICAgICBpbWc6IGJhY2tncm91bmRJbWcsXG4gICAgICB4OiAwLFxuICAgICAgeTogNzAwLFxuICAgICAgZHk6IDAuNVxuICAgIH1cblxuICAgIC8vIG1vdXNlIGZvbGxvdyBvcHRpb25zXG4gICAgdGhpcy50b3VjaE9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG91Y2gtb25cIik7XG4gICAgdGhpcy50b3VjaE9mZkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdWNoLW9mZlwiKTtcbiAgICB0aGlzLm1vdXNlRm9sbG93ID0gZmFsc2U7XG4gICAgdGhpcy5tb3VzZVBvc2l0aW9uID0gbnVsbDsgLy8ge3g6IHhWYWx1ZSwgeTogeVZhbHVlfVxuICAgIFxuICAgIC8vIHBhdXNlIG9wdGlvbnNcbiAgICB0aGlzLnBhdXNlT25FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXVzZS1vblwiKTtcbiAgICB0aGlzLnBhdXNlT2ZmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGF1c2Utb2ZmXCIpO1xuICAgIHRoaXMucGF1c2VUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXVzZS10ZXh0XCIpO1xuICAgIHRoaXMucGF1c2UgPSBmYWxzZTtcbiAgICB0aGlzLnRvZ2dsZVNvdW5kID0gZmFsc2U7XG5cbiAgICAvLyBvbmx5IHdhbnQgdG8gZHJhdyBzdGFydCwgd2luLCBhbmQgZ2FtZSBvdmVyIG1lc3NhZ2VzIG9uY2U7XG4gICAgdGhpcy5tZXNzYWdlRHJhd24gPSBmYWxzZTtcblxuICAgIHRoaXMuYmluZFNldHRpbmdMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmJpbmRTdGFydEhhbmRsZXIoKTtcbiAgfVxuICBcbiAgLy8gc3RhcnRzIHVwIHRoZSBhbmltYXRlIHJlY3Vyc2l2ZSBjYWxsIGxvb3AsIGFuZCBkcmF3cyBpbml0aWFsIGJhY2tncm91bmRcbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5sYXN0VGltZSA9IDA7XG4gICAgdGhpcy5kcmF3QmFja2dyb3VuZCgpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvLyBkcmF3IG5leHQgc3RhdGUgb2YgdGhlIGdhbWUsIG9yIHN0YXJ0L3dpbi9nYW1lIG92ZXIgbWVzc2FnZVxuICBhbmltYXRlKHRpbWUpIHtcbiAgICBpZiAodGhpcy5nYW1lLnN0YXJ0U2NyZWVuIHx8IHRoaXMuZ2FtZS5nYW1lT3ZlciB8fCB0aGlzLmdhbWUud2luKSB7XG4gICAgICBpZiAodGhpcy5wYXVzZSkgdGhpcy5oYW5kbGVQYXVzZVRvZ2dsZSgpO1xuICAgICAgdGhpcy5kcmF3U3RhcnRXaW5HYW1lT3ZlcigpO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMucGF1c2UpIHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgdGhpcy51cGRhdGVHYW1lSW5mbygpO1xuICAgICAgY29uc3QgdGltZURlbHRhID0gdGltZSAtIHRoaXMubGFzdFRpbWU7XG4gICAgICB0aGlzLmdhbWUuc3RlcCh0aW1lRGVsdGEpO1xuICAgIH1cblxuICAgIHRoaXMubGFzdFRpbWUgPSB0aW1lO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvLyBkcmF3IHN0YXJ0L3dpbi9nYW1lIG92ZXIgbWVzc2FnZSBvbmNlIGFuZCByZW1vdmUgcGxheWVyIGNvbnRyb2xzXG4gIGRyYXdTdGFydFdpbkdhbWVPdmVyKCkge1xuICAgIGlmICghdGhpcy5tZXNzYWdlRHJhd24pIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmdhbWUuc3RhcnRTY3JlZW4gXG4gICAgICAgICAgICAgICAgICAgICAgPyAgW1wiUHJlc3MgYW55IGtleSBvciBjbGljayBoZXJlIHRvXCIsIFwiU1RBUlRcIl1cbiAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2FtZS5zZWNyZXRFbmRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCLwn6uhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5nYW1lLmdhbWVPdmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJHQU1FIE9WRVJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiWU9VIFdJTlwiXG5cbiAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG5cbiAgICAgIGlmICh0aGlzLmdhbWUuc3RhcnRTY3JlZW4pIHtcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IFwiNDBweCByb2JvdG9cIjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQobWVzc2FnZVswXSwgdGhpcy5jYW52YXNXaWR0aC8yLCB0aGlzLmNhbnZhc0hlaWdodC8yIC0gNTApO1xuICAgICAgICB0aGlzLmN0eC5mb250ID0gXCI0OHB4IHJvYm90b1wiO1xuICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChtZXNzYWdlWzFdLCB0aGlzLmNhbnZhc1dpZHRoLzIsIHRoaXMuY2FudmFzSGVpZ2h0LzIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IFwiNDhweCByb2JvdG9cIjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQobWVzc2FnZSwgdGhpcy5jYW52YXNXaWR0aC8yLCB0aGlzLmNhbnZhc0hlaWdodC8yKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubWVzc2FnZURyYXduID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMuZ2FtZS5nYW1lT3ZlciB8fCB0aGlzLmdhbWUud2luKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ29udHJvbEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmUoKTtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRyYXdSZXRyeUtleS5iaW5kKHRoaXMsIHRoaXMuY3R4KSwgMzAwMClcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZHJhd1JldHJ5S2V5KCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmdhbWUuc2VjcmV0RW5kXG4gICAgICAgICAgICAgICAgICAgID8gXCIocHJlc3MgYW55IGtleSBvciBjbGljayBoZXJlIGZvciBhIHNlY3JldCBtaXNzaW9uIPCfpqspXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIihwcmVzcyBhbnkga2V5IG9yIGNsaWNrIGhlcmUgdG8gcmV0cnkpXCJcbiAgICB0aGlzLmN0eC5mb250ID0gXCIyNHB4IHJvYm90b1wiO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KG1lc3NhZ2UsIHRoaXMuY2FudmFzV2lkdGgvMiwgdGhpcy5jYW52YXNIZWlnaHQvMiArIDUwKTtcbiAgICB0aGlzLmJpbmRSZXRyeUhhbmRsZXIoKTtcbiAgfVxuXG4gIGRyYXdQYXVzZSgpIHtcbiAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICB0aGlzLmN0eC5mb250ID0gXCI0OHB4IHJvYm90b1wiO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFwiUEFVU0VEXCIsIHRoaXMuY2FudmFzV2lkdGgvMiwgdGhpcy5jYW52YXNIZWlnaHQvMik7XG4gIH1cblxuICAvLyBkcmF3IG1vdmluZyBiYWNrZ3JvdW5kIGFuZCB0aGVuIGFsbCBnYW1lIG9iamVjdHNcbiAgZHJhdygpIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpO1xuICAgIHRoaXMuZHJhd0JhY2tncm91bmQoKTtcblxuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmdhbWUuYWxsTW92aW5nT2JqZWN0cykge1xuICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmdhbWUuYWxsTW92aW5nT2JqZWN0c1trZXldKS5mb3JFYWNoKG9iaiA9PiBvYmouZHJhdyh0aGlzLmN0eCkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNhbnZhcyBiYWNrZ3JvdW5kIG1vdmVzIHZlcnRpY2FsbHkgZG93bndhcmRcbiAgZHJhd0JhY2tncm91bmQoKSB7XG4gICAgY29uc3QgaW1nID0gdGhpcy5iYWNrZ3JvdW5kT3B0aW9ucy5pbWc7XG5cbiAgICAvLyBpZiBlbmQgaXMgcmVhY2hlZCwgcmVzZXQgaW1hZ2UgYmFjayB0byBiZWdpbm5pbmdcbiAgICBpZiAodGhpcy5iYWNrZ3JvdW5kT3B0aW9ucy55ID4gdGhpcy5jYW52YXNIZWlnaHQpIHtcbiAgICAgIHRoaXMuYmFja2dyb3VuZE9wdGlvbnMueSA9IC1pbWcuaGVpZ2h0ICsgdGhpcy5iYWNrZ3JvdW5kT3B0aW9ucy55O1xuICAgIH1cblxuICAgIC8vIGlmIGxvb3BpbmcgYXJvdW5kLCBjdXQgcmVtYWluaW5nIGVuZCBhbmQgZHJhdyBiZWxvdyBuZXdcbiAgICBpZiAodGhpcy5iYWNrZ3JvdW5kT3B0aW9ucy55ID4gMCkge1xuICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKGltZywgdGhpcy5iYWNrZ3JvdW5kT3B0aW9ucy54LCAtaW1nLmhlaWdodCArIHRoaXMuYmFja2dyb3VuZE9wdGlvbnMueSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvLyBkcmF3IGJhY2tncm91bmQgYW5kIHRoZW4gdXBkYXRlIG5ldyBwb3NpdGlvblxuICAgIHRoaXMuY3R4LmRyYXdJbWFnZShpbWcsIHRoaXMuYmFja2dyb3VuZE9wdGlvbnMueCwgdGhpcy5iYWNrZ3JvdW5kT3B0aW9ucy55LCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIHRoaXMuYmFja2dyb3VuZE9wdGlvbnMueSArPSB0aGlzLmJhY2tncm91bmRPcHRpb25zLmR5O1xuICB9XG5cbiAgLy8gdXBkYXRlcyBhbGwgZ2FtZSBpbmZvIHJlbGF0ZWQgaHRtbCBlbGVtZW50c1xuICB1cGRhdGVHYW1lSW5mbygpIHtcbiAgICB0aGlzLnVwZGF0ZVNjb3JlKCk7XG4gICAgdGhpcy51cGRhdGVIZWFsdGhCYXIoJ3BsYXllcicpO1xuXG4gICAgaWYgKHRoaXMuZ2FtZS5ib3NzRmlnaHQpIHtcbiAgICAgIHRoaXMudXBkYXRlSGVhbHRoQmFyKCdib3NzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud2F2ZVNwYW4uaW5uZXJUZXh0ID0gdGhpcy5nYW1lLmVuZW15V2F2ZTtcbiAgICAgIHRoaXMuZW5lbWllc1JlbWFpbmluZ1NwYW4uaW5uZXJUZXh0ID0gdGhpcy5nYW1lLmVuZW1pZXNSZW1haW5pbmc7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU2NvcmUoKSB7XG4gICAgdGhpcy5zY29yZVNwYW4uaW5uZXJUZXh0ID0gdGhpcy5nYW1lLnNjb3JlO1xuICB9XG5cbiAgLy8gdXBkYXRlcyBlaXRoZXIgYm9zcyBvciBwbGF5ZXIgaHBcbiAgdXBkYXRlSGVhbHRoQmFyKHR5cGUpIHtcbiAgICBsZXQgb2JqLCBoZWFsdGhCYXI7XG4gICAgaWYgKHR5cGUgPT09ICdwbGF5ZXInKSB7XG4gICAgICBvYmogPSB0aGlzLmdhbWUucGxheWVyO1xuICAgICAgaGVhbHRoQmFyID0gdGhpcy5wbGF5ZXJIZWFsdGhCYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iaiA9IHRoaXMuZ2FtZS5ib3NzO1xuICAgICAgaGVhbHRoQmFyID0gdGhpcy5ib3NzSGVhbHRoQmFyO1xuICAgIH1cbiAgICBsZXQgaGVhbHRoID0gb2JqLmhlYWx0aDtcblxuICAgIGNvbnN0IGhlYWx0aFBvaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGhlYWx0aFBvaW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGAke3R5cGV9LWhlYWx0aC1wb2ludGApO1xuXG4gICAgaWYgKHR5cGUgPT09ICdib3NzJykgaGVhbHRoID0gTWF0aC5jZWlsKGhlYWx0aCAvIChCb3NzLk1BWF9IRUFMVEggLyAxMCkpO1xuXG4gICAgaWYgKGhlYWx0aEJhci5jaGlsZHJlbi5sZW5ndGggPCBoZWFsdGgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVhbHRoIC0gaGVhbHRoQmFyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhlYWx0aEJhci5hcHBlbmRDaGlsZChoZWFsdGhQb2ludCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoaGVhbHRoQmFyLmNoaWxkcmVuLmxlbmd0aCA+IGhlYWx0aCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVhbHRoQmFyLmNoaWxkcmVuLmxlbmd0aCAtIGhlYWx0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxhc3RDaGlsZCA9IGhlYWx0aEJhci5sYXN0Q2hpbGQ7XG4gICAgICAgIGlmIChsYXN0Q2hpbGQpIGhlYWx0aEJhci5yZW1vdmVDaGlsZChoZWFsdGhCYXIubGFzdENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBzd2l0Y2hlcyBiZXR3ZWVuIGJvc3MgYW5kIGVuZW15IHdhdmUgaHRtbCBlbGVtZW50cyBcbiAgc3dpdGNoR2FtZUluZm9ybWF0aW9uKCkge1xuICAgIGlmICh0aGlzLmdhbWUuYm9zc0ZpZ2h0KSB7XG4gICAgICB0aGlzLndhdmVJbmZvLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIHRoaXMuYm9zc0luZm8uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndhdmVJbmZvLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgIHRoaXMuYm9zc0luZm8uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIC8vIHN0YXJ0IHBsYXlpbmcgdGhlIGdhbWVcbiAgaGFuZGxlU3RhcnRLZXkoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQ/LmtleSA9PT0gXCIgXCIpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB0aGlzLmdhbWUuc291bmRzLnN3aXRjaEJHTShcIndhdmVCR01cIik7XG4gICAgdGhpcy5nYW1lLnN0YXJ0U2NyZWVuID0gZmFsc2U7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIHRoaXMuc3RhcnRIYW5kbGVyKVxuICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLnN0YXJ0SGFuZGxlcilcbiAgICB0aGlzLmJpbmRDb250cm9sSGFuZGxlcnMoKTtcbiAgICBzZXRUaW1lb3V0KHRoaXMuZ2FtZS5yZXNldEFkZEVuZW15Q29vbGRvd24uYmluZCh0aGlzLmdhbWUpLCAxNTAwKTtcbiAgICB0aGlzLm1lc3NhZ2VEcmF3biA9IGZhbHNlO1xuICB9XG5cbiAgYmluZFN0YXJ0SGFuZGxlcigpIHtcbiAgICB0aGlzLnN0YXJ0SGFuZGxlciA9IHRoaXMuaGFuZGxlU3RhcnRLZXkuYmluZCh0aGlzKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgdGhpcy5zdGFydEhhbmRsZXIpO1xuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLnN0YXJ0SGFuZGxlcik7XG4gIH1cblxuICAvLyByZXRyeSBvbiB3aW4vZ2FtZSBvdmVyXG4gIGhhbmRsZVJldHJ5S2V5KGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZ2FtZS5zZWNyZXRFbmQpIGxvY2F0aW9uLmhyZWYgPSBcImh0dHBzOi8vZms2NTIuZ2l0aHViLmlvL2NhcHliYWJ5LWluLXNwYWNlL1wiO1xuICAgIGlmIChldmVudD8ua2V5ID09PSBcIiBcIikgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCB0aGlzLnJldHJ5SGFuZGxlcik7XG4gICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMucmV0cnlIYW5kbGVyKTtcbiAgICB0aGlzLmdhbWUucmVzZXQoKTtcbiAgICB0aGlzLmJpbmRDb250cm9sSGFuZGxlcnMoKTtcbiAgICBzZXRUaW1lb3V0KHRoaXMuZ2FtZS5yZXNldEFkZEVuZW15Q29vbGRvd24uYmluZCh0aGlzLmdhbWUpLCAxNTAwKTtcbiAgICB0aGlzLm1lc3NhZ2VEcmF3biA9IGZhbHNlO1xuICB9XG5cbiAgYmluZFJldHJ5SGFuZGxlcigpIHtcbiAgICB0aGlzLnJldHJ5SGFuZGxlciA9IHRoaXMuaGFuZGxlUmV0cnlLZXkuYmluZCh0aGlzKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgdGhpcy5yZXRyeUhhbmRsZXIpO1xuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLnJldHJ5SGFuZGxlcik7XG4gIH1cblxuICAvLyBtb3VzZS90b3VjaCBmb2xsb3cgbW92ZW1lbnRzXG4gIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB4U2NhbGUgPSB0aGlzLmNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgY29uc3QgeVNjYWxlID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7XG4gICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAqIHhTY2FsZTtcbiAgICBjb25zdCB5ID0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCkgKiB5U2NhbGU7XG4gICAgdGhpcy5tb3VzZVBvc2l0aW9uID0ge3gsIHl9O1xuICB9XG5cbiAgaGFuZGxlTW91c2VPdXQoKSB7XG4gICAgdGhpcy5tb3VzZVBvc2l0aW9uID0gbnVsbDtcbiAgfVxuXG4gIGhhbmRsZU1vdXNlRm9sbG93VG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLm1vdXNlRm9sbG93KSB7XG4gICAgICB0aGlzLnRvdWNoT25FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLnRvdWNoT2ZmRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50b3VjaE9uRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHRoaXMudG91Y2hPZmZFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgdGhpcy5tb3VzZUZvbGxvdyA9ICF0aGlzLm1vdXNlRm9sbG93O1xuICB9XG5cbiAgLy8gcGF1c2UvdW5wYXVzZVxuICBoYW5kbGVQYXVzZVRvZ2dsZSgpIHtcbiAgICBpZiAoKHRoaXMuZ2FtZS5zdGFydFNjcmVlbiB8fCB0aGlzLmdhbWUuZ2FtZU92ZXIgfHwgdGhpcy5nYW1lLndpbikgJiYgIXRoaXMucGF1c2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXVzZSkge1xuICAgICAgdGhpcy5nYW1lLnJlc3VtZVRpbWVycygpO1xuICAgICAgdGhpcy5wYXVzZU9uRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgdGhpcy5wYXVzZU9mZkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLnBhdXNlVGV4dC5pbm5lclRleHQgPSAncGF1c2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmdhbWUucGF1c2VUaW1lcnMoKTtcbiAgICAgIHRoaXMucGF1c2VPbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLnBhdXNlT2ZmRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgdGhpcy5wYXVzZVRleHQuaW5uZXJUZXh0ID0gJ3BsYXknO1xuICAgICAgdGhpcy5kcmF3UGF1c2UoKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhdXNlID0gIXRoaXMucGF1c2U7XG4gIH1cblxuICAvLyBwYXVzZSBhbmQgbXV0ZSB3aGVuIHRhYmJlZCBvdXQgb3IgZ2FtZSBpcyBvdXQgb2YgZm9jdXNcbiAgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAoXG4gICAgICBkb2N1bWVudC5oaWRkZW4gJiYgXG4gICAgICAhKHRoaXMuZ2FtZS5zdGFydFNjcmVlbiB8fCB0aGlzLmdhbWUuZ2FtZU92ZXIgfHwgdGhpcy5nYW1lLndpbikgJiYgXG4gICAgICAhdGhpcy5wYXVzZVxuICAgICkge1xuICAgICAgdGhpcy5oYW5kbGVQYXVzZVRvZ2dsZSgpO1xuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5oaWRkZW4gJiYgdGhpcy5nYW1lLnNvdW5kcy50b2dnbGUpIHtcbiAgICAgIHRoaXMuZ2FtZS5zb3VuZHMuaGFuZGxlU291bmRUb2dnbGUoKTtcbiAgICAgIHRoaXMudG9nZ2xlU291bmQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIWRvY3VtZW50LmhpZGRlbiAmJiB0aGlzLnRvZ2dsZVNvdW5kKSB7XG4gICAgICB0aGlzLmdhbWUuc291bmRzLmhhbmRsZVNvdW5kVG9nZ2xlKCk7XG4gICAgICB0aGlzLnRvZ2dsZVNvdW5kID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0dGluZyBvcHRpb24ga2V5YmluZHNcbiAgaGFuZGxlU2V0dGluZ0tleWJpbmRzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIm1cIikgdGhpcy5oYW5kbGVNb3VzZUZvbGxvd1RvZ2dsZSgpO1xuICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJrXCIpIHRoaXMuZ2FtZS5zb3VuZHMuaGFuZGxlU291bmRUb2dnbGUoKTtcbiAgICBlbHNlIGlmIChldmVudC5rZXkgPT09IFwicFwiKSB0aGlzLmhhbmRsZVBhdXNlVG9nZ2xlKCk7XG4gIH1cblxuICAvLyBiaW5kcyBhbGwgc2V0dGluZyByZWxhdGVkIGhhbmRsZXJzIChwYXVzZS91bnBhdXNlLCBtb3VzZS90b3VjaCBmb2xsb3csIG11dGUvdW5tdXRlKVxuICBiaW5kU2V0dGluZ0xpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZVNldHRpbmdLZXliaW5kcy5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IHRvdWNoQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3VjaC1pY29ucy1jb250YWluZXJcIik7XG4gICAgdG91Y2hDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlTW91c2VGb2xsb3dUb2dnbGUuYmluZCh0aGlzKSk7XG4gICAgaWYgKCggJ29udG91Y2hzdGFydCcgaW4gd2luZG93ICkgfHwgKCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwICkgfHwgKCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDAgKSkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3VjaC10ZXh0XCIpLmlubmVyVGV4dCA9IFwidG91Y2ggZm9sbG93XCJcbiAgICAgIHRoaXMuaGFuZGxlTW91c2VGb2xsb3dUb2dnbGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXVzZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGF1c2UtaWNvbnMtY29udGFpbmVyXCIpO1xuICAgIHBhdXNlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZVBhdXNlVG9nZ2xlLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8vIHBsYXllciBjb250cm9scyAoYXJyb3cvd2FzZCB0byBtb3ZlLCBzcGFjZWJhciB0byBzaG9vdClcbiAgaGFuZGxlS2V5RG93bihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoR2FtZVZpZXcuUklHSFRfS0VZUy5pbmNsdWRlcyhldmVudC5rZXkpKSB0aGlzLmdhbWUucGxheWVyLmtleXNQcmVzc2VkLnJpZ2h0ID0gdHJ1ZTtcbiAgICBlbHNlIGlmIChHYW1lVmlldy5MRUZUX0tFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgdGhpcy5nYW1lLnBsYXllci5rZXlzUHJlc3NlZC5sZWZ0ID0gdHJ1ZTtcbiAgICBlbHNlIGlmIChHYW1lVmlldy5VUF9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIHRoaXMuZ2FtZS5wbGF5ZXIua2V5c1ByZXNzZWQudXAgPSB0cnVlO1xuICAgIGVsc2UgaWYgKEdhbWVWaWV3LkRPV05fS0VZUy5pbmNsdWRlcyhldmVudC5rZXkpKSB0aGlzLmdhbWUucGxheWVyLmtleXNQcmVzc2VkLmRvd24gPSB0cnVlO1xuICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIHRoaXMuZ2FtZS5wbGF5ZXIua2V5c1ByZXNzZWQuc2hvb3QgPSB0cnVlO1xuICB9XG4gIFxuICBoYW5kbGVLZXlVcChldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiIFwiKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKEdhbWVWaWV3LlJJR0hUX0tFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgdGhpcy5nYW1lLnBsYXllci5rZXlzUHJlc3NlZC5yaWdodCA9IGZhbHNlO1xuICAgIGVsc2UgaWYgKEdhbWVWaWV3LkxFRlRfS0VZUy5pbmNsdWRlcyhldmVudC5rZXkpKSB0aGlzLmdhbWUucGxheWVyLmtleXNQcmVzc2VkLmxlZnQgPSBmYWxzZTtcbiAgICBlbHNlIGlmIChHYW1lVmlldy5VUF9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIHRoaXMuZ2FtZS5wbGF5ZXIua2V5c1ByZXNzZWQudXAgPSBmYWxzZTtcbiAgICBlbHNlIGlmIChHYW1lVmlldy5ET1dOX0tFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgdGhpcy5nYW1lLnBsYXllci5rZXlzUHJlc3NlZC5kb3duID0gZmFsc2U7XG4gICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikgdGhpcy5nYW1lLnBsYXllci5rZXlzUHJlc3NlZC5zaG9vdCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gbW91c2UgY2xpY2svaG9sZCB0byBzaG9vdFxuICBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcbiAgICBjb25zdCBwYXJlbnRJZCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmlkO1xuICAgIGlmICghR2FtZVZpZXcuSUdOT1JFX1RBUkdFVFMuaW5jbHVkZXMocGFyZW50SWQpKSB0aGlzLmdhbWUucGxheWVyLmtleXNQcmVzc2VkLnNob290ID0gdHJ1ZTtcbiAgfVxuXG4gIGhhbmRsZU1vdXNlVXAoKSB7XG4gICAgdGhpcy5nYW1lLnBsYXllci5rZXlzUHJlc3NlZC5zaG9vdCA9IGZhbHNlO1xuICB9XG5cbiAgYmluZENvbnRyb2xIYW5kbGVycygpIHtcbiAgICB0aGlzLmtleURvd25IYW5kbGVyID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5rZXlVcEhhbmRsZXIgPSB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3VzZURvd25IYW5kbGVyID0gdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm1vdXNlVXBIYW5kbGVyID0gdGhpcy5oYW5kbGVNb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3VzZU1vdmVIYW5kbGVyID0gdGhpcy5oYW5kbGVNb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1vdXNlT3V0SGFuZGxlciA9IHRoaXMuaGFuZGxlTW91c2VPdXQuYmluZCh0aGlzKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMua2V5RG93bkhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLmtleVVwSGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMubW91c2VEb3duSGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLm1vdXNlVXBIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm91dFwiLCB0aGlzLm1vdXNlT3V0SGFuZGxlcik7XG4gIH1cblxuICByZW1vdmVDb250cm9sSGFuZGxlcnMoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5rZXlEb3duSGFuZGxlcik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMua2V5VXBIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgdGhpcy5tb3VzZURvd25IYW5kbGVyKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMubW91c2VVcEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3V0XCIsIHRoaXMubW91c2VPdXRIYW5kbGVyKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHYW1lVmlldzsiXSwibmFtZXMiOlsiR2FtZSIsIkJvc3MiLCJHYW1lVmlldyIsImNvbnN0cnVjdG9yIiwiY2FudmFzIiwiY3R4IiwiY2FudmFzV2lkdGgiLCJ3aWR0aCIsImNhbnZhc0hlaWdodCIsImhlaWdodCIsImdhbWUiLCJzY29yZVNwYW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicGxheWVySGVhbHRoQmFyIiwiYm9zc0hlYWx0aEJhciIsImJvc3NJbmZvIiwid2F2ZUluZm8iLCJ3YXZlU3BhbiIsImVuZW1pZXNSZW1haW5pbmdTcGFuIiwiYmFja2dyb3VuZEltZyIsIkltYWdlIiwic3JjIiwiYmFja2dyb3VuZE9wdGlvbnMiLCJpbWciLCJ4IiwieSIsImR5IiwidG91Y2hPbkVsZW1lbnQiLCJ0b3VjaE9mZkVsZW1lbnQiLCJtb3VzZUZvbGxvdyIsIm1vdXNlUG9zaXRpb24iLCJwYXVzZU9uRWxlbWVudCIsInBhdXNlT2ZmRWxlbWVudCIsInBhdXNlVGV4dCIsInBhdXNlIiwidG9nZ2xlU291bmQiLCJtZXNzYWdlRHJhd24iLCJiaW5kU2V0dGluZ0xpc3RlbmVycyIsImJpbmRTdGFydEhhbmRsZXIiLCJzdGFydCIsImxhc3RUaW1lIiwiZHJhd0JhY2tncm91bmQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhbmltYXRlIiwiYmluZCIsInRpbWUiLCJzdGFydFNjcmVlbiIsImdhbWVPdmVyIiwid2luIiwiaGFuZGxlUGF1c2VUb2dnbGUiLCJkcmF3U3RhcnRXaW5HYW1lT3ZlciIsImRyYXciLCJ1cGRhdGVHYW1lSW5mbyIsInRpbWVEZWx0YSIsInN0ZXAiLCJtZXNzYWdlIiwic2VjcmV0RW5kIiwidGV4dEFsaWduIiwiZmlsbFN0eWxlIiwiZm9udCIsImZpbGxUZXh0IiwicmVtb3ZlQ29udHJvbEhhbmRsZXJzIiwidXBkYXRlU2NvcmUiLCJzZXRUaW1lb3V0IiwiZHJhd1JldHJ5S2V5IiwiYmluZFJldHJ5SGFuZGxlciIsImRyYXdQYXVzZSIsImNsZWFyUmVjdCIsImtleSIsImFsbE1vdmluZ09iamVjdHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwib2JqIiwiZHJhd0ltYWdlIiwidXBkYXRlSGVhbHRoQmFyIiwiYm9zc0ZpZ2h0IiwiaW5uZXJUZXh0IiwiZW5lbXlXYXZlIiwiZW5lbWllc1JlbWFpbmluZyIsInNjb3JlIiwidHlwZSIsImhlYWx0aEJhciIsInBsYXllciIsImJvc3MiLCJoZWFsdGgiLCJoZWFsdGhQb2ludCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJNYXRoIiwiY2VpbCIsIk1BWF9IRUFMVEgiLCJjaGlsZHJlbiIsImxlbmd0aCIsImkiLCJhcHBlbmRDaGlsZCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwic3dpdGNoR2FtZUluZm9ybWF0aW9uIiwic3R5bGUiLCJkaXNwbGF5IiwiaGFuZGxlU3RhcnRLZXkiLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwic291bmRzIiwic3dpdGNoQkdNIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YXJ0SGFuZGxlciIsImJpbmRDb250cm9sSGFuZGxlcnMiLCJyZXNldEFkZEVuZW15Q29vbGRvd24iLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUmV0cnlLZXkiLCJsb2NhdGlvbiIsImhyZWYiLCJyZXRyeUhhbmRsZXIiLCJyZXNldCIsImhhbmRsZU1vdXNlTW92ZSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ4U2NhbGUiLCJ5U2NhbGUiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJoYW5kbGVNb3VzZU91dCIsImhhbmRsZU1vdXNlRm9sbG93VG9nZ2xlIiwicmVzdW1lVGltZXJzIiwicGF1c2VUaW1lcnMiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiaGlkZGVuIiwidG9nZ2xlIiwiaGFuZGxlU291bmRUb2dnbGUiLCJoYW5kbGVTZXR0aW5nS2V5YmluZHMiLCJ0b3VjaENvbnRhaW5lciIsIndpbmRvdyIsIm5hdmlnYXRvciIsIm1heFRvdWNoUG9pbnRzIiwibXNNYXhUb3VjaFBvaW50cyIsInBhdXNlQ29udGFpbmVyIiwiaGFuZGxlS2V5RG93biIsIlJJR0hUX0tFWVMiLCJpbmNsdWRlcyIsImtleXNQcmVzc2VkIiwicmlnaHQiLCJMRUZUX0tFWVMiLCJVUF9LRVlTIiwidXAiLCJET1dOX0tFWVMiLCJkb3duIiwic2hvb3QiLCJoYW5kbGVLZXlVcCIsImhhbmRsZU1vdXNlRG93biIsInBhcmVudElkIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsImlkIiwiSUdOT1JFX1RBUkdFVFMiLCJoYW5kbGVNb3VzZVVwIiwia2V5RG93bkhhbmRsZXIiLCJrZXlVcEhhbmRsZXIiLCJtb3VzZURvd25IYW5kbGVyIiwibW91c2VVcEhhbmRsZXIiLCJtb3VzZU1vdmVIYW5kbGVyIiwibW91c2VPdXRIYW5kbGVyIiwiX2RlZmluZVByb3BlcnR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/game_view.js\n");

/***/ }),

/***/ "./src/scripts/moving_object.js":
/*!**************************************!*\
  !*** ./src/scripts/moving_object.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/scripts/utils.js\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n// MovingObject is the top parent class for ships, projectiles, explosions, etc.\nclass MovingObject {\n  // for smoothing gameplay based on fps\n\n  constructor(argsObject) {\n    this.position = argsObject[\"position\"];\n    this.velocity = argsObject[\"velocity\"];\n    this.speed = argsObject[\"speed\"];\n    this.health = argsObject[\"health\"];\n    this.game = argsObject[\"game\"];\n    this.width = argsObject[\"width\"];\n    this.height = argsObject[\"height\"];\n    this.image = argsObject[\"image\"];\n    this.type = argsObject[\"type\"];\n    this.rotationAngle = argsObject[\"rotation\"] || 0;\n    this.id = this.game.idCounter++;\n    this.game.allMovingObjects[this.type][this.id] = this;\n  }\n  draw(ctx) {\n    // ctx.drawImage(this.image, this.position[0], this.position[1], this.width, this.height);\n\n    // rotate from center\n    const [x, y] = this.position;\n    const [centerX, centerY] = [x + this.width / 2, y + this.height / 2];\n    ctx.save();\n    ctx.translate(centerX, centerY);\n    ctx.rotate(Math.PI / 180 * this.rotationAngle);\n    ctx.translate(-centerX, -centerY);\n    ctx.drawImage(this.image, x, y, this.width, this.height);\n    ctx.restore();\n  }\n\n  // checks collisions against all hitboxes of the object\n  // rectangleCollision is a utility function for mathematically determining collisions\n  // hitBoxCollisions is used by subclasses with more complex logic\n  collideCheck(otherObj) {\n    const hitBoxCollisions = [];\n    this.getHitbox().forEach((thisBox, idx) => {\n      const collisionFound = otherObj.getHitbox().some(otherBox => {\n        return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.rectangleCollision)(thisBox, otherBox);\n      });\n      if (collisionFound) hitBoxCollisions.push(idx);\n    });\n    if (hitBoxCollisions.length > 0) {\n      this.handleCollided(otherObj, hitBoxCollisions);\n    }\n  }\n\n  // will be overwritten by subclasses with more complex logic\n  // two cases: enemy/player to projectile, player to enemy\n  handleCollided(otherObj) {\n    const otherObjClass = otherObj.constructor.name;\n    if (otherObjClass === \"Projectile\") {\n      const damage = otherObj.health;\n      otherObj.remove();\n      this.damageTaken(damage);\n    } else if (otherObjClass === \"EnemyShip\") {\n      const damage = 1;\n      this.damageTaken(damage);\n    } else if (otherObjClass === \"Boss\") {\n      const damage = 3;\n      this.damageTaken(damage);\n    }\n  }\n  getHitbox() {\n    const [x, y] = this.position;\n    const width = this.width;\n    const height = this.height;\n    return [{\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }];\n  }\n  move(timeDelta) {\n    this.updateVelocity();\n    const velocityScale = timeDelta / MovingObject.NORMAL_FRAME_TIME_DELTA;\n    const offsetX = this.velocity[0] * velocityScale;\n    const offsetY = this.velocity[1] * velocityScale;\n    const newX = this.position[0] + offsetX;\n    const newY = this.position[1] + offsetY;\n    this.handleBounds([newX, newY]);\n  }\n  handleBounds(newPosition) {\n    // to be changed in sub classes as needed\n    this.position = newPosition;\n  }\n  updateVelocity() {\n    // to be implemented in sub classes as needed\n  }\n  inUpperYHeightBounds(y) {\n    return y <= this.game.canvasHeight + this.height;\n  }\n  inUpperXBounds(x) {\n    return x >= 0;\n  }\n  inUpperYBounds(y) {\n    return y >= 0;\n  }\n  inLowerXBounds(x) {\n    return x <= this.game.canvasWidth - this.width;\n  }\n  inLowerYBounds(y) {\n    return y <= this.game.canvasHeight - this.height;\n  }\n  inXBounds(x) {\n    return this.inUpperXBounds(x) && this.inLowerXBounds(x);\n  }\n  inYBounds(y) {\n    return this.inUpperYBounds(y) && this.inLowerYBounds(y);\n  }\n  inBounds(position) {\n    return this.inXBounds(position[0]) && this.inYBounds(position[1]);\n  }\n  remove() {\n    delete this.game.allMovingObjects[this.type][this.id];\n  }\n}\n_defineProperty(MovingObject, \"NORMAL_FRAME_TIME_DELTA\", 1000 / 60);\n/* harmony default export */ __webpack_exports__[\"default\"] = (MovingObject);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtJQUNYLE9BQVEsSUFBSSxDQUFDMEMsY0FBYyxDQUFDMUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDNEMsY0FBYyxDQUFDNUMsQ0FBQyxDQUFDO0VBQzFEO0VBRUFnRCxTQUFTQSxDQUFDL0MsQ0FBQyxFQUFFO0lBQ1gsT0FBUSxJQUFJLENBQUMwQyxjQUFjLENBQUMxQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM2QyxjQUFjLENBQUM3QyxDQUFDLENBQUM7RUFDMUQ7RUFFQWdELFFBQVFBLENBQUNoRSxRQUFRLEVBQUU7SUFDakIsT0FBTyxJQUFJLENBQUM4RCxTQUFTLENBQUM5RCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMrRCxTQUFTLENBQUMvRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDbkU7RUFFQTBDLE1BQU1BLENBQUEsRUFBRztJQUNQLE9BQU8sSUFBSSxDQUFDdEMsSUFBSSxDQUFDUSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUNKLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQ0UsRUFBRSxDQUFDO0VBQ3ZEO0FBQ0Y7QUFBQ3VELGVBQUEsQ0EzSUtwRSxZQUFZLDZCQUVpQixJQUFJLEdBQUcsRUFBRTtBQTJJNUMsK0RBQWVBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXByb2plY3QvLi9zcmMvc2NyaXB0cy9tb3Zpbmdfb2JqZWN0LmpzP2MyMDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVjdGFuZ2xlQ29sbGlzaW9uIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuLy8gTW92aW5nT2JqZWN0IGlzIHRoZSB0b3AgcGFyZW50IGNsYXNzIGZvciBzaGlwcywgcHJvamVjdGlsZXMsIGV4cGxvc2lvbnMsIGV0Yy5cbmNsYXNzIE1vdmluZ09iamVjdCB7XG4gIC8vIGZvciBzbW9vdGhpbmcgZ2FtZXBsYXkgYmFzZWQgb24gZnBzXG4gIHN0YXRpYyBOT1JNQUxfRlJBTUVfVElNRV9ERUxUQSA9IDEwMDAgLyA2MDtcblxuICBjb25zdHJ1Y3RvcihhcmdzT2JqZWN0KSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IGFyZ3NPYmplY3RbXCJwb3NpdGlvblwiXTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gYXJnc09iamVjdFtcInZlbG9jaXR5XCJdO1xuICAgIHRoaXMuc3BlZWQgPSBhcmdzT2JqZWN0W1wic3BlZWRcIl07XG4gICAgdGhpcy5oZWFsdGggPSBhcmdzT2JqZWN0W1wiaGVhbHRoXCJdO1xuICAgIHRoaXMuZ2FtZSA9IGFyZ3NPYmplY3RbXCJnYW1lXCJdO1xuICAgIHRoaXMud2lkdGggPSBhcmdzT2JqZWN0W1wid2lkdGhcIl07XG4gICAgdGhpcy5oZWlnaHQgPSBhcmdzT2JqZWN0W1wiaGVpZ2h0XCJdO1xuICAgIHRoaXMuaW1hZ2UgPSBhcmdzT2JqZWN0W1wiaW1hZ2VcIl07XG4gICAgdGhpcy50eXBlID0gYXJnc09iamVjdFtcInR5cGVcIl07XG4gICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gYXJnc09iamVjdFtcInJvdGF0aW9uXCJdIHx8IDA7XG5cbiAgICB0aGlzLmlkID0gdGhpcy5nYW1lLmlkQ291bnRlcisrO1xuICAgIHRoaXMuZ2FtZS5hbGxNb3ZpbmdPYmplY3RzW3RoaXMudHlwZV1bdGhpcy5pZF0gPSB0aGlzO1xuICB9XG5cbiAgZHJhdyhjdHgpIHtcbiAgICAvLyBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHRoaXMucG9zaXRpb25bMF0sIHRoaXMucG9zaXRpb25bMV0sIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICAgIC8vIHJvdGF0ZSBmcm9tIGNlbnRlclxuICAgIGNvbnN0IFt4LCB5XSA9IHRoaXMucG9zaXRpb247XG4gICAgY29uc3QgW2NlbnRlclgsIGNlbnRlclldID0gW3ggKyAodGhpcy53aWR0aC8yKSwgeSArICh0aGlzLmhlaWdodC8yKV1cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUoY2VudGVyWCwgY2VudGVyWSk7XG4gICAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiB0aGlzLnJvdGF0aW9uQW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLWNlbnRlclgsIC1jZW50ZXJZKTtcbiAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHgsIHksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgLy8gY2hlY2tzIGNvbGxpc2lvbnMgYWdhaW5zdCBhbGwgaGl0Ym94ZXMgb2YgdGhlIG9iamVjdFxuICAvLyByZWN0YW5nbGVDb2xsaXNpb24gaXMgYSB1dGlsaXR5IGZ1bmN0aW9uIGZvciBtYXRoZW1hdGljYWxseSBkZXRlcm1pbmluZyBjb2xsaXNpb25zXG4gIC8vIGhpdEJveENvbGxpc2lvbnMgaXMgdXNlZCBieSBzdWJjbGFzc2VzIHdpdGggbW9yZSBjb21wbGV4IGxvZ2ljXG4gIGNvbGxpZGVDaGVjayhvdGhlck9iaikge1xuICAgIGNvbnN0IGhpdEJveENvbGxpc2lvbnMgPSBbXTtcblxuICAgIHRoaXMuZ2V0SGl0Ym94KCkuZm9yRWFjaCgodGhpc0JveCwgaWR4KSA9PiB7XG4gICAgICBjb25zdCBjb2xsaXNpb25Gb3VuZCA9IG90aGVyT2JqLmdldEhpdGJveCgpLnNvbWUob3RoZXJCb3ggPT4geyBcbiAgICAgICAgcmV0dXJuIHJlY3RhbmdsZUNvbGxpc2lvbih0aGlzQm94LCBvdGhlckJveCkgXG4gICAgICB9KVxuXG4gICAgICBpZiAoY29sbGlzaW9uRm91bmQpIGhpdEJveENvbGxpc2lvbnMucHVzaChpZHgpOyBcbiAgICB9KVxuXG4gICAgaWYgKGhpdEJveENvbGxpc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5oYW5kbGVDb2xsaWRlZChvdGhlck9iaiwgaGl0Qm94Q29sbGlzaW9ucyk7XG4gICAgfVxuICB9XG5cbiAgLy8gd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBzdWJjbGFzc2VzIHdpdGggbW9yZSBjb21wbGV4IGxvZ2ljXG4gIC8vIHR3byBjYXNlczogZW5lbXkvcGxheWVyIHRvIHByb2plY3RpbGUsIHBsYXllciB0byBlbmVteVxuICBoYW5kbGVDb2xsaWRlZChvdGhlck9iaikge1xuICAgIGNvbnN0IG90aGVyT2JqQ2xhc3MgPSBvdGhlck9iai5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgaWYgKG90aGVyT2JqQ2xhc3MgPT09IFwiUHJvamVjdGlsZVwiKSB7XG4gICAgICBjb25zdCBkYW1hZ2UgPSBvdGhlck9iai5oZWFsdGg7XG4gICAgICBvdGhlck9iai5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZGFtYWdlVGFrZW4oZGFtYWdlKTtcbiAgICB9IGVsc2UgaWYgKG90aGVyT2JqQ2xhc3MgPT09IFwiRW5lbXlTaGlwXCIpIHtcbiAgICAgIGNvbnN0IGRhbWFnZSA9IDE7XG4gICAgICB0aGlzLmRhbWFnZVRha2VuKGRhbWFnZSk7XG4gICAgfSBlbHNlIGlmIChvdGhlck9iakNsYXNzID09PSBcIkJvc3NcIikge1xuICAgICAgY29uc3QgZGFtYWdlID0gMztcbiAgICAgIHRoaXMuZGFtYWdlVGFrZW4oZGFtYWdlKTtcbiAgICB9XG4gIH1cblxuICBnZXRIaXRib3goKSB7XG4gICAgY29uc3QgW3gsIHldID0gdGhpcy5wb3NpdGlvbjtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgcmV0dXJuIFt7XG4gICAgICB4OiB4LFxuICAgICAgeTogeSxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfV1cbiAgfVxuXG4gIG1vdmUodGltZURlbHRhKSB7XG4gICAgdGhpcy51cGRhdGVWZWxvY2l0eSgpO1xuICAgIGNvbnN0IHZlbG9jaXR5U2NhbGUgPSB0aW1lRGVsdGEgLyBNb3ZpbmdPYmplY3QuTk9STUFMX0ZSQU1FX1RJTUVfREVMVEE7XG4gICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMudmVsb2NpdHlbMF0gKiB2ZWxvY2l0eVNjYWxlO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLnZlbG9jaXR5WzFdICogdmVsb2NpdHlTY2FsZTtcblxuICAgIGNvbnN0IG5ld1ggPSB0aGlzLnBvc2l0aW9uWzBdICsgb2Zmc2V0WDtcbiAgICBjb25zdCBuZXdZID0gdGhpcy5wb3NpdGlvblsxXSArIG9mZnNldFk7XG5cbiAgICB0aGlzLmhhbmRsZUJvdW5kcyhbbmV3WCwgbmV3WV0pXG4gIH1cblxuICBoYW5kbGVCb3VuZHMobmV3UG9zaXRpb24pIHtcbiAgICAvLyB0byBiZSBjaGFuZ2VkIGluIHN1YiBjbGFzc2VzIGFzIG5lZWRlZFxuICAgIHRoaXMucG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcbiAgfVxuXG4gIHVwZGF0ZVZlbG9jaXR5KCkge1xuICAgIC8vIHRvIGJlIGltcGxlbWVudGVkIGluIHN1YiBjbGFzc2VzIGFzIG5lZWRlZFxuICB9XG5cbiAgaW5VcHBlcllIZWlnaHRCb3VuZHMoeSkge1xuICAgIHJldHVybiAoeSA8PSB0aGlzLmdhbWUuY2FudmFzSGVpZ2h0ICsgdGhpcy5oZWlnaHQpO1xuICB9XG5cbiAgaW5VcHBlclhCb3VuZHMoeCkge1xuICAgIHJldHVybiAoeCA+PSAwKTtcbiAgfVxuXG4gIGluVXBwZXJZQm91bmRzKHkpIHtcbiAgICByZXR1cm4gKHkgPj0gMCk7XG4gIH1cblxuICBpbkxvd2VyWEJvdW5kcyh4KSB7XG4gICAgcmV0dXJuICh4IDw9IHRoaXMuZ2FtZS5jYW52YXNXaWR0aCAtIHRoaXMud2lkdGgpO1xuICB9XG5cbiAgaW5Mb3dlcllCb3VuZHMoeSkge1xuICAgIHJldHVybiAoeSA8PSB0aGlzLmdhbWUuY2FudmFzSGVpZ2h0IC0gdGhpcy5oZWlnaHQpO1xuICB9XG5cbiAgaW5YQm91bmRzKHgpIHtcbiAgICByZXR1cm4gKHRoaXMuaW5VcHBlclhCb3VuZHMoeCkgJiYgdGhpcy5pbkxvd2VyWEJvdW5kcyh4KSk7XG4gIH1cblxuICBpbllCb3VuZHMoeSkge1xuICAgIHJldHVybiAodGhpcy5pblVwcGVyWUJvdW5kcyh5KSAmJiB0aGlzLmluTG93ZXJZQm91bmRzKHkpKTtcbiAgfVxuXG4gIGluQm91bmRzKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5YQm91bmRzKHBvc2l0aW9uWzBdKSAmJiB0aGlzLmluWUJvdW5kcyhwb3NpdGlvblsxXSk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgZGVsZXRlIHRoaXMuZ2FtZS5hbGxNb3ZpbmdPYmplY3RzW3RoaXMudHlwZV1bdGhpcy5pZF07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW92aW5nT2JqZWN0OyJdLCJuYW1lcyI6WyJyZWN0YW5nbGVDb2xsaXNpb24iLCJNb3ZpbmdPYmplY3QiLCJjb25zdHJ1Y3RvciIsImFyZ3NPYmplY3QiLCJwb3NpdGlvbiIsInZlbG9jaXR5Iiwic3BlZWQiLCJoZWFsdGgiLCJnYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJpbWFnZSIsInR5cGUiLCJyb3RhdGlvbkFuZ2xlIiwiaWQiLCJpZENvdW50ZXIiLCJhbGxNb3ZpbmdPYmplY3RzIiwiZHJhdyIsImN0eCIsIngiLCJ5IiwiY2VudGVyWCIsImNlbnRlclkiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiTWF0aCIsIlBJIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImNvbGxpZGVDaGVjayIsIm90aGVyT2JqIiwiaGl0Qm94Q29sbGlzaW9ucyIsImdldEhpdGJveCIsImZvckVhY2giLCJ0aGlzQm94IiwiaWR4IiwiY29sbGlzaW9uRm91bmQiLCJzb21lIiwib3RoZXJCb3giLCJwdXNoIiwibGVuZ3RoIiwiaGFuZGxlQ29sbGlkZWQiLCJvdGhlck9iakNsYXNzIiwibmFtZSIsImRhbWFnZSIsInJlbW92ZSIsImRhbWFnZVRha2VuIiwibW92ZSIsInRpbWVEZWx0YSIsInVwZGF0ZVZlbG9jaXR5IiwidmVsb2NpdHlTY2FsZSIsIk5PUk1BTF9GUkFNRV9USU1FX0RFTFRBIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJuZXdYIiwibmV3WSIsImhhbmRsZUJvdW5kcyIsIm5ld1Bvc2l0aW9uIiwiaW5VcHBlcllIZWlnaHRCb3VuZHMiLCJjYW52YXNIZWlnaHQiLCJpblVwcGVyWEJvdW5kcyIsImluVXBwZXJZQm91bmRzIiwiaW5Mb3dlclhCb3VuZHMiLCJjYW52YXNXaWR0aCIsImluTG93ZXJZQm91bmRzIiwiaW5YQm91bmRzIiwiaW5ZQm91bmRzIiwiaW5Cb3VuZHMiLCJfZGVmaW5lUHJvcGVydHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/moving_object.js\n");

/***/ }),

/***/ "./src/scripts/player_ship.js":
/*!************************************!*\
  !*** ./src/scripts/player_ship.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ship */ \"./src/scripts/ship.js\");\n/* harmony import */ var _explosion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./explosion */ \"./src/scripts/explosion.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timer */ \"./src/scripts/timer.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./src/scripts/utils.js\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n\nclass PlayerShip extends _ship__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(game) {\n    // Ship/MovingObject related arguments\n    let image = document.createElement(\"img\");\n    image.src = \"src/assets/images/player1.png\";\n    let height = 48;\n    let width = 37;\n    const objArgs = {\n      width: width,\n      height: height,\n      position: [Math.floor(game.canvasWidth / 2), game.canvasHeight - height],\n      velocity: [0, 0],\n      speed: PlayerShip.SPEED,\n      health: PlayerShip.MAX_HEALTH,\n      game: game,\n      image: image,\n      type: \"player\"\n    };\n\n    // Projectile related arguments\n    image = document.createElement(\"img\");\n    image.src = \"src/assets/images/player_projectile.png\";\n    const projectileArgs = [{\n      objArgs: {\n        velocity: [0, -10],\n        speed: 10,\n        health: 1,\n        game: game,\n        width: 5,\n        height: 20,\n        image: image\n      },\n      type: \"bullet\",\n      origin: \"player\",\n      projectileSound: \"playerProjectile\"\n    }];\n\n    // projectile pattern\n    const patternArgs = [{\n      positionDeltas: [[width / 2.3, 0]],\n      batchFireNum: 1,\n      batchFireInterval: 0,\n      cooldown: 250,\n      onCooldown: false,\n      timer: null,\n      projectileArgIndex: 0\n    }];\n    super(objArgs, projectileArgs, patternArgs);\n\n    // player controlled movements\n    this.keysPressed = {\n      up: false,\n      down: false,\n      left: false,\n      right: false,\n      shoot: false\n    };\n    this.disabled = false;\n    this.invincible = false;\n  }\n\n  // player ship unique hitboxes\n  getHitbox() {\n    const box1 = {\n      x: this.position[0] + this.width / 3,\n      y: this.position[1],\n      width: this.width / 3,\n      height: this.height\n    };\n    const box2 = {\n      x: this.position[0],\n      y: this.position[1] + this.height * .65,\n      width: this.width,\n      height: this.height / 5\n    };\n    return [box1, box2];\n  }\n\n  // velocity updated based on player controlled movements\n  updateVelocity() {\n    let newVelocity = [0, 0];\n\n    // when disabled, player auto moves downwards\n    if (this.disabled) {\n      newVelocity[1] = 2;\n    } else if (this.game.gameView.mouseFollow && this.game.gameView.mousePosition) {\n      // mouse/touch controlled movement handling\n      // movement is smoothed out for finer controls\n      const xDiff = this.game.gameView.mousePosition.x - (this.position[0] + this.width / 2);\n      const yDiff = this.game.gameView.mousePosition.y - (this.position[1] + this.height / 2);\n      const deadzone = 2;\n      if (xDiff > deadzone) {\n        newVelocity[0] += Math.min(this.speed, xDiff);\n      } else if (xDiff < -deadzone) {\n        newVelocity[0] -= Math.min(this.speed, -xDiff);\n      }\n      if (yDiff > deadzone) {\n        newVelocity[1] += Math.min(this.speed, yDiff);\n      } else if (yDiff < -deadzone) {\n        newVelocity[1] -= Math.min(this.speed, -yDiff);\n      }\n      if (newVelocity[0] && newVelocity[1]) {\n        const speed = (Math.abs(newVelocity[0]) + Math.abs(newVelocity[1])) / 2;\n        newVelocity = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.vectorScale)(newVelocity, speed);\n      }\n    } else {\n      // keyboard controlled movement handling\n      if (this.keysPressed.right) newVelocity[0] += this.speed;\n      if (this.keysPressed.left) newVelocity[0] -= this.speed;\n      if (this.keysPressed.up) newVelocity[1] -= this.speed;\n      if (this.keysPressed.down) newVelocity[1] += this.speed;\n      if (newVelocity[0] && newVelocity[1]) newVelocity = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.vectorScale)(newVelocity, this.speed);\n    }\n    this.velocity = newVelocity;\n  }\n\n  // shooting also controlled by player\n  shootProjectile() {\n    if (this.keysPressed.shoot && !this.disabled) super.shootProjectile();\n  }\n\n  // player must be within game screen at all times\n  handleBounds(newPosition) {\n    if (this.inXBounds(newPosition[0])) this.position[0] = newPosition[0];\n    if (this.inYBounds(newPosition[1])) this.position[1] = newPosition[1];\n  }\n\n  // player gets 1 sec of invicibility after taking damage\n  damageTaken(damage) {\n    if (!this.invincible && this.health >= 0) {\n      super.damageTaken(damage);\n      this.invincible = true;\n      this.game.sounds.playMajorSound(\"playerHurt\");\n      new _timer__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, this.resetInvincibility.bind(this), 1000);\n    }\n  }\n  resetInvincibility() {\n    this.invincible = false;\n  }\n\n  // player unique death animation, and activates game over logic\n  remove() {\n    if (!this.disabled) {\n      this.disabled = true;\n      new _timer__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, () => {\n        const posX = this.position[0] - 40;\n        const posY = this.position[1] - 20;\n        new _explosion__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.game, 100, [posX, posY], \"major\", [0, 0]);\n        super.remove();\n        this.game.sounds.playMajorSound(\"playerDeath\");\n        new _timer__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, this.game.setGameOver.bind(this.game), 3000);\n      }, 1000);\n    }\n  }\n}\n_defineProperty(PlayerShip, \"SPEED\", 5);\n_defineProperty(PlayerShip, \"MAX_HEALTH\", 10);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PlayerShip);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ0EsSUFBSSxDQUFDbUUsV0FBVyxDQUFDSixJQUFJLENBQUMsSUFBSSxDQUFDL0QsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDO01BQ25FLENBQUMsRUFBRSxJQUFJLENBQUM7SUFDVjtFQUNGO0FBQ0Y7QUFBQ29FLGVBQUEsQ0F4S0t0RSxVQUFVLFdBQ0MsQ0FBQztBQUFBc0UsZUFBQSxDQURadEUsVUFBVSxnQkFFTSxFQUFFO0FBd0t4QiwrREFBZUEsVUFBVSIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtcHJvamVjdC8uL3NyYy9zY3JpcHRzL3BsYXllcl9zaGlwLmpzP2UzMWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IEV4cGxvc2lvbiBmcm9tIFwiLi9leHBsb3Npb25cIjtcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiO1xuaW1wb3J0IHsgdmVjdG9yU2NhbGUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jbGFzcyBQbGF5ZXJTaGlwIGV4dGVuZHMgU2hpcCB7XG4gIHN0YXRpYyBTUEVFRCA9IDU7XG4gIHN0YXRpYyBNQVhfSEVBTFRIID0gMTA7XG5cbiAgY29uc3RydWN0b3IoZ2FtZSkge1xuICAgIC8vIFNoaXAvTW92aW5nT2JqZWN0IHJlbGF0ZWQgYXJndW1lbnRzXG4gICAgbGV0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBpbWFnZS5zcmMgPSBcInNyYy9hc3NldHMvaW1hZ2VzL3BsYXllcjEucG5nXCI7XG4gICAgbGV0IGhlaWdodCA9IDQ4O1xuICAgIGxldCB3aWR0aCA9IDM3O1xuICAgIGNvbnN0IG9iakFyZ3MgPSB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIHBvc2l0aW9uOiBbTWF0aC5mbG9vcihnYW1lLmNhbnZhc1dpZHRoIC8gMiksIGdhbWUuY2FudmFzSGVpZ2h0IC0gaGVpZ2h0XSxcbiAgICAgIHZlbG9jaXR5OiBbMCwgMF0sXG4gICAgICBzcGVlZDogUGxheWVyU2hpcC5TUEVFRCxcbiAgICAgIGhlYWx0aDogUGxheWVyU2hpcC5NQVhfSEVBTFRILFxuICAgICAgZ2FtZTogZ2FtZSxcbiAgICAgIGltYWdlOiBpbWFnZSxcbiAgICAgIHR5cGU6IFwicGxheWVyXCJcbiAgICB9XG5cbiAgICAvLyBQcm9qZWN0aWxlIHJlbGF0ZWQgYXJndW1lbnRzXG4gICAgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGltYWdlLnNyYyA9IFwic3JjL2Fzc2V0cy9pbWFnZXMvcGxheWVyX3Byb2plY3RpbGUucG5nXCI7XG4gICAgY29uc3QgcHJvamVjdGlsZUFyZ3MgPSBbe1xuICAgICAgb2JqQXJnczoge1xuICAgICAgICB2ZWxvY2l0eTogWzAsIC0xMF0sXG4gICAgICAgIHNwZWVkOiAxMCxcbiAgICAgICAgaGVhbHRoOiAxLFxuICAgICAgICBnYW1lOiBnYW1lLFxuICAgICAgICB3aWR0aDogNSxcbiAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgaW1hZ2U6IGltYWdlXG4gICAgICB9LFxuICAgICAgdHlwZTogXCJidWxsZXRcIixcbiAgICAgIG9yaWdpbjogXCJwbGF5ZXJcIixcbiAgICAgIHByb2plY3RpbGVTb3VuZDogXCJwbGF5ZXJQcm9qZWN0aWxlXCJcbiAgICB9XVxuXG4gICAgLy8gcHJvamVjdGlsZSBwYXR0ZXJuXG4gICAgY29uc3QgcGF0dGVybkFyZ3MgPSBbe1xuICAgICAgcG9zaXRpb25EZWx0YXM6IFtbd2lkdGgvKDIuMyksIDBdXSxcbiAgICAgIGJhdGNoRmlyZU51bTogMSxcbiAgICAgIGJhdGNoRmlyZUludGVydmFsOiAwLFxuICAgICAgY29vbGRvd246IDI1MCxcbiAgICAgIG9uQ29vbGRvd246IGZhbHNlLFxuICAgICAgdGltZXI6IG51bGwsXG4gICAgICBwcm9qZWN0aWxlQXJnSW5kZXg6IDBcbiAgICB9XVxuXG4gICAgc3VwZXIob2JqQXJncywgcHJvamVjdGlsZUFyZ3MsIHBhdHRlcm5BcmdzKTtcblxuICAgIC8vIHBsYXllciBjb250cm9sbGVkIG1vdmVtZW50c1xuICAgIHRoaXMua2V5c1ByZXNzZWQgPSB7XG4gICAgICB1cDogZmFsc2UsXG4gICAgICBkb3duOiBmYWxzZSxcbiAgICAgIGxlZnQ6IGZhbHNlLFxuICAgICAgcmlnaHQ6IGZhbHNlLFxuICAgICAgc2hvb3Q6IGZhbHNlXG4gICAgfVxuICAgIFxuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmludmluY2libGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIHBsYXllciBzaGlwIHVuaXF1ZSBoaXRib3hlc1xuICBnZXRIaXRib3goKSB7XG4gICAgY29uc3QgYm94MSA9IHtcbiAgICAgIHg6IHRoaXMucG9zaXRpb25bMF0gKyAodGhpcy53aWR0aCAvIDMpLFxuICAgICAgeTogdGhpcy5wb3NpdGlvblsxXSxcbiAgICAgIHdpZHRoOiB0aGlzLndpZHRoIC8gMyxcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHRcbiAgICB9XG5cbiAgICBjb25zdCBib3gyID0ge1xuICAgICAgeDogdGhpcy5wb3NpdGlvblswXSxcbiAgICAgIHk6IHRoaXMucG9zaXRpb25bMV0gKyAodGhpcy5oZWlnaHQgKiAuNjUpLFxuICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LzVcbiAgICB9XG5cbiAgICByZXR1cm4gW2JveDEsIGJveDJdO1xuICB9XG5cbiAgLy8gdmVsb2NpdHkgdXBkYXRlZCBiYXNlZCBvbiBwbGF5ZXIgY29udHJvbGxlZCBtb3ZlbWVudHNcbiAgdXBkYXRlVmVsb2NpdHkoKSB7XG4gICAgbGV0IG5ld1ZlbG9jaXR5ID0gWzAsIDBdO1xuXG4gICAgLy8gd2hlbiBkaXNhYmxlZCwgcGxheWVyIGF1dG8gbW92ZXMgZG93bndhcmRzXG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIG5ld1ZlbG9jaXR5WzFdID0gMjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZ2FtZS5nYW1lVmlldy5tb3VzZUZvbGxvdyAmJiB0aGlzLmdhbWUuZ2FtZVZpZXcubW91c2VQb3NpdGlvbikge1xuICAgICAgLy8gbW91c2UvdG91Y2ggY29udHJvbGxlZCBtb3ZlbWVudCBoYW5kbGluZ1xuICAgICAgLy8gbW92ZW1lbnQgaXMgc21vb3RoZWQgb3V0IGZvciBmaW5lciBjb250cm9sc1xuICAgICAgY29uc3QgeERpZmYgPSB0aGlzLmdhbWUuZ2FtZVZpZXcubW91c2VQb3NpdGlvbi54IC0gKHRoaXMucG9zaXRpb25bMF0gKyAodGhpcy53aWR0aCAvIDIpKTtcbiAgICAgIGNvbnN0IHlEaWZmID0gdGhpcy5nYW1lLmdhbWVWaWV3Lm1vdXNlUG9zaXRpb24ueSAtICh0aGlzLnBvc2l0aW9uWzFdICsgKHRoaXMuaGVpZ2h0IC8gMikpO1xuICAgICAgY29uc3QgZGVhZHpvbmUgPSAyO1xuXG4gICAgICBpZiAoeERpZmYgPiBkZWFkem9uZSkge1xuICAgICAgICBuZXdWZWxvY2l0eVswXSArPSBNYXRoLm1pbih0aGlzLnNwZWVkLCB4RGlmZik7XG4gICAgICB9IGVsc2UgaWYgKHhEaWZmIDwgLWRlYWR6b25lKSB7XG4gICAgICAgIG5ld1ZlbG9jaXR5WzBdIC09IE1hdGgubWluKHRoaXMuc3BlZWQsIC14RGlmZik7XG4gICAgICB9XG5cbiAgICAgIGlmICh5RGlmZiA+IGRlYWR6b25lKSB7XG4gICAgICAgIG5ld1ZlbG9jaXR5WzFdICs9IE1hdGgubWluKHRoaXMuc3BlZWQsIHlEaWZmKTtcbiAgICAgIH0gZWxzZSBpZiAoeURpZmYgPCAtZGVhZHpvbmUpIHtcbiAgICAgICAgbmV3VmVsb2NpdHlbMV0gLT0gTWF0aC5taW4odGhpcy5zcGVlZCwgLXlEaWZmKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld1ZlbG9jaXR5WzBdICYmIG5ld1ZlbG9jaXR5WzFdKSB7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gKE1hdGguYWJzKG5ld1ZlbG9jaXR5WzBdKSArIE1hdGguYWJzKG5ld1ZlbG9jaXR5WzFdKSkgLyAyO1xuICAgICAgICBuZXdWZWxvY2l0eSA9IHZlY3RvclNjYWxlKG5ld1ZlbG9jaXR5LCBzcGVlZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGtleWJvYXJkIGNvbnRyb2xsZWQgbW92ZW1lbnQgaGFuZGxpbmdcbiAgICAgIGlmICh0aGlzLmtleXNQcmVzc2VkLnJpZ2h0KSBuZXdWZWxvY2l0eVswXSArPSB0aGlzLnNwZWVkO1xuICAgICAgaWYgKHRoaXMua2V5c1ByZXNzZWQubGVmdCkgbmV3VmVsb2NpdHlbMF0gLT0gdGhpcy5zcGVlZDtcbiAgICAgIGlmICh0aGlzLmtleXNQcmVzc2VkLnVwKSBuZXdWZWxvY2l0eVsxXSAtPSB0aGlzLnNwZWVkO1xuICAgICAgaWYgKHRoaXMua2V5c1ByZXNzZWQuZG93bikgbmV3VmVsb2NpdHlbMV0gKz0gdGhpcy5zcGVlZDtcblxuICAgICAgaWYgKG5ld1ZlbG9jaXR5WzBdICYmIG5ld1ZlbG9jaXR5WzFdKSBuZXdWZWxvY2l0eSA9IHZlY3RvclNjYWxlKG5ld1ZlbG9jaXR5LCB0aGlzLnNwZWVkKTtcbiAgICB9XG5cbiAgICB0aGlzLnZlbG9jaXR5ID0gbmV3VmVsb2NpdHk7XG4gIH1cblxuICAvLyBzaG9vdGluZyBhbHNvIGNvbnRyb2xsZWQgYnkgcGxheWVyXG4gIHNob290UHJvamVjdGlsZSgpIHtcbiAgICBpZiAodGhpcy5rZXlzUHJlc3NlZC5zaG9vdCAmJiAhdGhpcy5kaXNhYmxlZCkgc3VwZXIuc2hvb3RQcm9qZWN0aWxlKCk7XG4gIH1cblxuICAvLyBwbGF5ZXIgbXVzdCBiZSB3aXRoaW4gZ2FtZSBzY3JlZW4gYXQgYWxsIHRpbWVzXG4gIGhhbmRsZUJvdW5kcyhuZXdQb3NpdGlvbikge1xuICAgIGlmICh0aGlzLmluWEJvdW5kcyhuZXdQb3NpdGlvblswXSkpIHRoaXMucG9zaXRpb25bMF0gPSBuZXdQb3NpdGlvblswXTtcbiAgICBpZiAodGhpcy5pbllCb3VuZHMobmV3UG9zaXRpb25bMV0pKSB0aGlzLnBvc2l0aW9uWzFdID0gbmV3UG9zaXRpb25bMV07XG4gIH1cblxuICAvLyBwbGF5ZXIgZ2V0cyAxIHNlYyBvZiBpbnZpY2liaWxpdHkgYWZ0ZXIgdGFraW5nIGRhbWFnZVxuICBkYW1hZ2VUYWtlbihkYW1hZ2UpIHtcbiAgICBpZiAoIXRoaXMuaW52aW5jaWJsZSAmJiB0aGlzLmhlYWx0aCA+PSAwKSB7XG4gICAgICBzdXBlci5kYW1hZ2VUYWtlbihkYW1hZ2UpO1xuICAgICAgdGhpcy5pbnZpbmNpYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMuZ2FtZS5zb3VuZHMucGxheU1ham9yU291bmQoXCJwbGF5ZXJIdXJ0XCIpO1xuICAgICAgbmV3IFRpbWVyKHRoaXMuZ2FtZSwgdGhpcy5yZXNldEludmluY2liaWxpdHkuYmluZCh0aGlzKSwgMTAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRJbnZpbmNpYmlsaXR5KCkge1xuICAgIHRoaXMuaW52aW5jaWJsZSA9IGZhbHNlO1xuICB9XG5cbiAgLy8gcGxheWVyIHVuaXF1ZSBkZWF0aCBhbmltYXRpb24sIGFuZCBhY3RpdmF0ZXMgZ2FtZSBvdmVyIGxvZ2ljXG4gIHJlbW92ZSgpIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsgXG4gICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgbmV3IFRpbWVyKHRoaXMuZ2FtZSwgKCkgPT4ge1xuICAgICAgICBjb25zdCBwb3NYID0gdGhpcy5wb3NpdGlvblswXSAtIDQwO1xuICAgICAgICBjb25zdCBwb3NZID0gdGhpcy5wb3NpdGlvblsxXSAtIDIwO1xuICAgICAgICBuZXcgRXhwbG9zaW9uKHRoaXMuZ2FtZSwgMTAwLCBbcG9zWCwgcG9zWV0sIFwibWFqb3JcIiwgWzAsIDBdKTtcbiAgICAgICAgc3VwZXIucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuZ2FtZS5zb3VuZHMucGxheU1ham9yU291bmQoXCJwbGF5ZXJEZWF0aFwiKTtcbiAgICAgICAgbmV3IFRpbWVyKHRoaXMuZ2FtZSwgdGhpcy5nYW1lLnNldEdhbWVPdmVyLmJpbmQodGhpcy5nYW1lKSwgMzAwMCk7XG4gICAgICB9LCAxMDAwKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXJTaGlwOyJdLCJuYW1lcyI6WyJTaGlwIiwiRXhwbG9zaW9uIiwiVGltZXIiLCJ2ZWN0b3JTY2FsZSIsIlBsYXllclNoaXAiLCJjb25zdHJ1Y3RvciIsImdhbWUiLCJpbWFnZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImhlaWdodCIsIndpZHRoIiwib2JqQXJncyIsInBvc2l0aW9uIiwiTWF0aCIsImZsb29yIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJ2ZWxvY2l0eSIsInNwZWVkIiwiU1BFRUQiLCJoZWFsdGgiLCJNQVhfSEVBTFRIIiwidHlwZSIsInByb2plY3RpbGVBcmdzIiwib3JpZ2luIiwicHJvamVjdGlsZVNvdW5kIiwicGF0dGVybkFyZ3MiLCJwb3NpdGlvbkRlbHRhcyIsImJhdGNoRmlyZU51bSIsImJhdGNoRmlyZUludGVydmFsIiwiY29vbGRvd24iLCJvbkNvb2xkb3duIiwidGltZXIiLCJwcm9qZWN0aWxlQXJnSW5kZXgiLCJrZXlzUHJlc3NlZCIsInVwIiwiZG93biIsImxlZnQiLCJyaWdodCIsInNob290IiwiZGlzYWJsZWQiLCJpbnZpbmNpYmxlIiwiZ2V0SGl0Ym94IiwiYm94MSIsIngiLCJ5IiwiYm94MiIsInVwZGF0ZVZlbG9jaXR5IiwibmV3VmVsb2NpdHkiLCJnYW1lVmlldyIsIm1vdXNlRm9sbG93IiwibW91c2VQb3NpdGlvbiIsInhEaWZmIiwieURpZmYiLCJkZWFkem9uZSIsIm1pbiIsImFicyIsInNob290UHJvamVjdGlsZSIsImhhbmRsZUJvdW5kcyIsIm5ld1Bvc2l0aW9uIiwiaW5YQm91bmRzIiwiaW5ZQm91bmRzIiwiZGFtYWdlVGFrZW4iLCJkYW1hZ2UiLCJzb3VuZHMiLCJwbGF5TWFqb3JTb3VuZCIsInJlc2V0SW52aW5jaWJpbGl0eSIsImJpbmQiLCJyZW1vdmUiLCJwb3NYIiwicG9zWSIsInNldEdhbWVPdmVyIiwiX2RlZmluZVByb3BlcnR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/player_ship.js\n");

/***/ }),

/***/ "./src/scripts/projectile.js":
/*!***********************************!*\
  !*** ./src/scripts/projectile.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _moving_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./moving_object */ \"./src/scripts/moving_object.js\");\n\nclass Projectile extends _moving_object__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  // Projectile health determines damage dealt\n  constructor(args) {\n    args.objArgs.type = \"projectiles\";\n    super(args.objArgs);\n    this.origin = args.origin;\n  }\n\n  // projectiles are also removed when they collide with ships, handled by Ship objects\n  handleBounds(newPosition) {\n    if (!this.inBounds(newPosition)) {\n      super.remove();\n    } else {\n      this.position = newPosition;\n    }\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Projectile);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9wcm9qZWN0aWxlLmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQTJDO0FBRTNDLE1BQU1DLFVBQVUsU0FBU0Qsc0RBQVksQ0FBQztFQUNwQztFQUNBRSxXQUFXQSxDQUFDQyxJQUFJLEVBQUU7SUFDaEJBLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLEdBQUcsYUFBYTtJQUNqQyxLQUFLLENBQUNGLElBQUksQ0FBQ0MsT0FBTyxDQUFDO0lBQ25CLElBQUksQ0FBQ0UsTUFBTSxHQUFHSCxJQUFJLENBQUNHLE1BQU07RUFDM0I7O0VBRUE7RUFDQUMsWUFBWUEsQ0FBQ0MsV0FBVyxFQUFFO0lBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQ0QsV0FBVyxDQUFDLEVBQUU7TUFDL0IsS0FBSyxDQUFDRSxNQUFNLEVBQUU7SUFDaEIsQ0FBQyxNQUFNO01BQ0wsSUFBSSxDQUFDQyxRQUFRLEdBQUdILFdBQVc7SUFDN0I7RUFDRjtBQUNGO0FBRUEsK0RBQWVQLFVBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXByb2plY3QvLi9zcmMvc2NyaXB0cy9wcm9qZWN0aWxlLmpzP2ZmNTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vdmluZ09iamVjdCBmcm9tIFwiLi9tb3Zpbmdfb2JqZWN0XCI7XG5cbmNsYXNzIFByb2plY3RpbGUgZXh0ZW5kcyBNb3ZpbmdPYmplY3Qge1xuICAvLyBQcm9qZWN0aWxlIGhlYWx0aCBkZXRlcm1pbmVzIGRhbWFnZSBkZWFsdFxuICBjb25zdHJ1Y3RvcihhcmdzKSB7XG4gICAgYXJncy5vYmpBcmdzLnR5cGUgPSBcInByb2plY3RpbGVzXCI7XG4gICAgc3VwZXIoYXJncy5vYmpBcmdzKTtcbiAgICB0aGlzLm9yaWdpbiA9IGFyZ3Mub3JpZ2luO1xuICB9XG5cbiAgLy8gcHJvamVjdGlsZXMgYXJlIGFsc28gcmVtb3ZlZCB3aGVuIHRoZXkgY29sbGlkZSB3aXRoIHNoaXBzLCBoYW5kbGVkIGJ5IFNoaXAgb2JqZWN0c1xuICBoYW5kbGVCb3VuZHMobmV3UG9zaXRpb24pIHtcbiAgICBpZiAoIXRoaXMuaW5Cb3VuZHMobmV3UG9zaXRpb24pKSB7XG4gICAgICBzdXBlci5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ld1Bvc2l0aW9uXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3RpbGU7Il0sIm5hbWVzIjpbIk1vdmluZ09iamVjdCIsIlByb2plY3RpbGUiLCJjb25zdHJ1Y3RvciIsImFyZ3MiLCJvYmpBcmdzIiwidHlwZSIsIm9yaWdpbiIsImhhbmRsZUJvdW5kcyIsIm5ld1Bvc2l0aW9uIiwiaW5Cb3VuZHMiLCJyZW1vdmUiLCJwb3NpdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/projectile.js\n");

/***/ }),

/***/ "./src/scripts/ship.js":
/*!*****************************!*\
  !*** ./src/scripts/ship.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _moving_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./moving_object */ \"./src/scripts/moving_object.js\");\n/* harmony import */ var _projectile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./projectile */ \"./src/scripts/projectile.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timer */ \"./src/scripts/timer.js\");\n\n\n\n\n// Ship is the top parent class for player, enemy, and boss ships\nclass Ship extends _moving_object__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(objArgs, projectileArgs, patternArgs) {\n    super(objArgs);\n    this.projectileArgs = projectileArgs;\n    this.patternArgs = patternArgs;\n  }\n\n  // ships can have multiple projectile patterns and possible batch firing\n  // each pattern has it's own cooldown\n  shootProjectile() {\n    this.patternArgs.forEach((pattern, idx) => {\n      // fire pattern if off cooldown and ship in game bounds\n      if (!pattern.onCooldown && this.inBounds(this.position)) {\n        // batch firing\n        for (let i = 0; i < pattern.batchFireNum; i++) {\n          new _timer__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, () => {\n            // only fire if ship still alive when timer callback activates\n            if (this.health > 0) {\n              // create new Projectile at each position in the pattern\n              pattern.positionDeltas.forEach(delta => {\n                const [x, y] = this.position;\n                const [dx, dy] = delta;\n                const startPosition = [x + dx, y + dy];\n                const projArgs = this.projectileArgs[pattern.projectileArgIndex];\n                projArgs.objArgs.position = startPosition;\n                new _projectile__WEBPACK_IMPORTED_MODULE_1__[\"default\"](projArgs);\n              });\n            }\n          }, pattern.batchFireInterval * i);\n        }\n\n        // play projectile sound\n        const projSound = this.projectileArgs[pattern.projectileArgIndex].projectileSound;\n        this.playShootSound(projSound);\n\n        // set cooldown and start timer to reset it\n        pattern.onCooldown = true;\n        const batchCooldownOffset = pattern.batchFireInterval * pattern.batchFireNum;\n        pattern.timer = new _timer__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.game, this.resetCooldown.bind(this, idx), pattern.cooldown + batchCooldownOffset);\n      }\n    });\n  }\n  playShootSound(projectileSound) {\n    this.game.sounds.add(projectileSound);\n  }\n  resetCooldown(index) {\n    this.patternArgs[index].onCooldown = false;\n    this.patternArgs[index].timer = null;\n  }\n  damageTaken(damage) {\n    this.health -= damage;\n    if (this.health <= 0) this.remove();\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Ship);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNDLE1BQU0sRUFBRTtJQUNsQixJQUFJLENBQUN2QixNQUFNLElBQUl1QixNQUFNO0lBQ3JCLElBQUksSUFBSSxDQUFDdkIsTUFBTSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUN3QixNQUFNLEVBQUU7RUFDckM7QUFDRjtBQUVBLCtEQUFldkMsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtcHJvamVjdC8uL3NyYy9zY3JpcHRzL3NoaXAuanM/NTUwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW92aW5nT2JqZWN0IGZyb20gXCIuL21vdmluZ19vYmplY3RcIjtcbmltcG9ydCBQcm9qZWN0aWxlIGZyb20gXCIuL3Byb2plY3RpbGVcIjtcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiO1xuXG4vLyBTaGlwIGlzIHRoZSB0b3AgcGFyZW50IGNsYXNzIGZvciBwbGF5ZXIsIGVuZW15LCBhbmQgYm9zcyBzaGlwc1xuY2xhc3MgU2hpcCBleHRlbmRzIE1vdmluZ09iamVjdCB7XG4gIGNvbnN0cnVjdG9yKG9iakFyZ3MsIHByb2plY3RpbGVBcmdzLCBwYXR0ZXJuQXJncykge1xuICAgIHN1cGVyKG9iakFyZ3MpO1xuICAgIHRoaXMucHJvamVjdGlsZUFyZ3MgPSBwcm9qZWN0aWxlQXJncztcbiAgICB0aGlzLnBhdHRlcm5BcmdzID0gcGF0dGVybkFyZ3M7XG4gIH1cblxuICAvLyBzaGlwcyBjYW4gaGF2ZSBtdWx0aXBsZSBwcm9qZWN0aWxlIHBhdHRlcm5zIGFuZCBwb3NzaWJsZSBiYXRjaCBmaXJpbmdcbiAgLy8gZWFjaCBwYXR0ZXJuIGhhcyBpdCdzIG93biBjb29sZG93blxuICBzaG9vdFByb2plY3RpbGUoKSB7XG4gICAgdGhpcy5wYXR0ZXJuQXJncy5mb3JFYWNoKChwYXR0ZXJuLCBpZHgpID0+IHtcbiAgICAgIC8vIGZpcmUgcGF0dGVybiBpZiBvZmYgY29vbGRvd24gYW5kIHNoaXAgaW4gZ2FtZSBib3VuZHNcbiAgICAgIGlmICghcGF0dGVybi5vbkNvb2xkb3duICYmIHRoaXMuaW5Cb3VuZHModGhpcy5wb3NpdGlvbikpIHtcbiAgICAgICAgLy8gYmF0Y2ggZmlyaW5nXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybi5iYXRjaEZpcmVOdW07IGkgKyspIHtcbiAgICAgICAgICBuZXcgVGltZXIodGhpcy5nYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBvbmx5IGZpcmUgaWYgc2hpcCBzdGlsbCBhbGl2ZSB3aGVuIHRpbWVyIGNhbGxiYWNrIGFjdGl2YXRlc1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVhbHRoID4gMCkge1xuICAgICAgICAgICAgICAvLyBjcmVhdGUgbmV3IFByb2plY3RpbGUgYXQgZWFjaCBwb3NpdGlvbiBpbiB0aGUgcGF0dGVyblxuICAgICAgICAgICAgICBwYXR0ZXJuLnBvc2l0aW9uRGVsdGFzLmZvckVhY2goZGVsdGEgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IHRoaXMucG9zaXRpb247XG4gICAgICAgICAgICAgICAgY29uc3QgW2R4LCBkeV0gPSBkZWx0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gW3ggKyBkeCwgeSArIGR5XTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2pBcmdzID0gdGhpcy5wcm9qZWN0aWxlQXJnc1twYXR0ZXJuLnByb2plY3RpbGVBcmdJbmRleF07XG4gICAgICAgICAgICAgICAgcHJvakFyZ3Mub2JqQXJncy5wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG5cbiAgICAgICAgICAgICAgICBuZXcgUHJvamVjdGlsZShwcm9qQXJncyk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgcGF0dGVybi5iYXRjaEZpcmVJbnRlcnZhbCAqIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGxheSBwcm9qZWN0aWxlIHNvdW5kXG4gICAgICAgIGNvbnN0IHByb2pTb3VuZCA9IHRoaXMucHJvamVjdGlsZUFyZ3NbcGF0dGVybi5wcm9qZWN0aWxlQXJnSW5kZXhdLnByb2plY3RpbGVTb3VuZDtcbiAgICAgICAgdGhpcy5wbGF5U2hvb3RTb3VuZChwcm9qU291bmQpO1xuICAgICAgICBcbiAgICAgICAgLy8gc2V0IGNvb2xkb3duIGFuZCBzdGFydCB0aW1lciB0byByZXNldCBpdFxuICAgICAgICBwYXR0ZXJuLm9uQ29vbGRvd24gPSB0cnVlO1xuICAgICAgICBjb25zdCBiYXRjaENvb2xkb3duT2Zmc2V0ID0gcGF0dGVybi5iYXRjaEZpcmVJbnRlcnZhbCAqIHBhdHRlcm4uYmF0Y2hGaXJlTnVtO1xuICAgICAgICBwYXR0ZXJuLnRpbWVyID0gbmV3IFRpbWVyKHRoaXMuZ2FtZSwgdGhpcy5yZXNldENvb2xkb3duLmJpbmQodGhpcywgaWR4KSwgKHBhdHRlcm4uY29vbGRvd24gKyBiYXRjaENvb2xkb3duT2Zmc2V0KSk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHBsYXlTaG9vdFNvdW5kKHByb2plY3RpbGVTb3VuZCkge1xuICAgIHRoaXMuZ2FtZS5zb3VuZHMuYWRkKHByb2plY3RpbGVTb3VuZCk7XG4gIH1cblxuICByZXNldENvb2xkb3duKGluZGV4KSB7XG4gICAgdGhpcy5wYXR0ZXJuQXJnc1tpbmRleF0ub25Db29sZG93biA9IGZhbHNlO1xuICAgIHRoaXMucGF0dGVybkFyZ3NbaW5kZXhdLnRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIGRhbWFnZVRha2VuKGRhbWFnZSkge1xuICAgIHRoaXMuaGVhbHRoIC09IGRhbWFnZTtcbiAgICBpZiAodGhpcy5oZWFsdGggPD0gMCkgdGhpcy5yZW1vdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaGlwOyJdLCJuYW1lcyI6WyJNb3ZpbmdPYmplY3QiLCJQcm9qZWN0aWxlIiwiVGltZXIiLCJTaGlwIiwiY29uc3RydWN0b3IiLCJvYmpBcmdzIiwicHJvamVjdGlsZUFyZ3MiLCJwYXR0ZXJuQXJncyIsInNob290UHJvamVjdGlsZSIsImZvckVhY2giLCJwYXR0ZXJuIiwiaWR4Iiwib25Db29sZG93biIsImluQm91bmRzIiwicG9zaXRpb24iLCJpIiwiYmF0Y2hGaXJlTnVtIiwiZ2FtZSIsImhlYWx0aCIsInBvc2l0aW9uRGVsdGFzIiwiZGVsdGEiLCJ4IiwieSIsImR4IiwiZHkiLCJzdGFydFBvc2l0aW9uIiwicHJvakFyZ3MiLCJwcm9qZWN0aWxlQXJnSW5kZXgiLCJiYXRjaEZpcmVJbnRlcnZhbCIsInByb2pTb3VuZCIsInByb2plY3RpbGVTb3VuZCIsInBsYXlTaG9vdFNvdW5kIiwiYmF0Y2hDb29sZG93bk9mZnNldCIsInRpbWVyIiwicmVzZXRDb29sZG93biIsImJpbmQiLCJjb29sZG93biIsInNvdW5kcyIsImFkZCIsImluZGV4IiwiZGFtYWdlVGFrZW4iLCJkYW1hZ2UiLCJyZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/ship.js\n");

/***/ }),

/***/ "./src/scripts/sound.js":
/*!******************************!*\
  !*** ./src/scripts/sound.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// Sound class creates and handles all game sounds\nclass Sound {\n  constructor(game) {\n    this.audioCtx = new AudioContext();\n    this.waveBGM = \"src/assets/sounds/wave_bgm.mp3\";\n    this.bossIncomingBGM = \"src/assets/sounds/boss_incoming_bgm.mp3\";\n    this.bossBGM = \"src/assets/sounds/boss_bgm.mp3\";\n    this.currentBGM = document.createElement(\"audio\");\n    this.currentBGM.src = this.waveBGM;\n    this.currentBGM.preload = \"auto\";\n    this.currentBGM.loop = true;\n    this.currentBGMCtx = this.audioCtx.createMediaElementSource(this.currentBGM);\n    this.currentBGMCtx.connect(this.audioCtx.destination);\n    this.playerHurt = \"src/assets/sounds/player_hurt.wav\";\n    this.playerDeath = \"src/assets/sounds/player_death.wav\";\n    this.bossDeath = \"src/assets/sounds/boss_death.mp3\";\n    this.win = \"src/assets/sounds/win.mp3\";\n    this.gameOver = \"src/assets/sounds/game_over.mp3\";\n    this.majorSound = document.createElement(\"audio\");\n    this.majorSound.src = \"\";\n    this.majorSound.preload = \"auto\";\n    this.majorSound.onended = () => this.majorSound.src = \"\";\n    this.majorSoundCtx = this.audioCtx.createMediaElementSource(this.majorSound);\n    this.majorSoundCtx.connect(this.audioCtx.destination);\n    this.defaultProjectile = \"src/assets/sounds/default_laser.wav\";\n    this.playerProjectile = \"src/assets/sounds/player_laser.wav\";\n    this.enemyProjectile = \"src/assets/sounds/enemy_laser.wav\";\n    this.bossProjectile = \"src/assets/sounds/boss_projectile.wav\";\n    this.explosion = \"src/assets/sounds/explosion.wav\";\n    this.soundId = 0;\n    this.currentSounds = {};\n    this.toggle = false;\n    this.game = game;\n    this.soundOnElement = document.getElementById(\"sound-on\");\n    this.soundOffElement = document.getElementById(\"sound-off\");\n    this.soundTextElement = document.getElementById(\"sound-text\");\n    this.bindToggleListener();\n  }\n\n  // only pause when playing, to avoid asynchronous play() issues\n  isPlaying(audio) {\n    return audio.currentTime > 0 && !audio.paused && !audio.ended;\n  }\n\n  // switching the background music\n  switchBGM(key) {\n    this.currentBGM.pause();\n    this.currentBGM.currentTime = 0;\n    this.currentBGM.src = this[key];\n    if (this.toggle) this.currentBGM.play();\n  }\n\n  // player hurt, player death, boss death, win, game over sounds\n  playMajorSound(key) {\n    if (key === null) {\n      this.majorSound.src = \"\";\n      return;\n    }\n    if (key !== \"playerHurt\") this.currentBGM.pause();\n    this.majorSound.pause();\n    this.majorSound.currentTime = 0;\n    this.majorSound.src = this[key];\n    if (key === \"playerDeath\") this.majorSound.volume = 0.2;else if (key === \"win\") this.majorSound.volume = 0.3;else this.majorSound.volume = 1.0;\n    if (this.toggle) this.majorSound.play();\n  }\n\n  // sound toggling\n  toggleOff() {\n    if (this.audioCtx.state !== \"suspended\") this.audioCtx.suspend();\n    this.currentBGM.pause();\n    this.majorSound.pause();\n    this.clearCurrentSounds();\n    this.toggle = false;\n  }\n  toggleOn() {\n    if (this.audioCtx.state === \"suspended\") this.audioCtx.resume();\n    if (!this.game.startScreen && !this.game.gameOver && !this.game.win) {\n      this.currentBGM.play();\n    }\n    if (!isNaN(this.majorSound.duration)) this.majorSound.play();\n    this.toggle = true;\n  }\n\n  // adding projectile and explosion sounds, to be called in other classes as needed\n  add(audioSourceKey) {\n    if (!this.toggle) return;\n    const newAudio = document.createElement(\"audio\");\n    newAudio.src = this[audioSourceKey];\n    newAudio.preload = \"auto\";\n    const newAudioCtx = this.audioCtx.createMediaElementSource(newAudio);\n    newAudioCtx.connect(this.audioCtx.destination);\n    if (audioSourceKey === \"enemyProjectile\") newAudio.volume = 0.02;\n    const id = this.soundId++;\n    const audioObject = {\n      audio: newAudio,\n      ctx: newAudioCtx\n    };\n    this.currentSounds[id] = audioObject;\n    newAudio.onended = () => {\n      newAudioCtx.disconnect(this.audioCtx.destination);\n      newAudio.remove();\n      newAudio.src = '';\n      delete this.currentSounds[id];\n    };\n    newAudio.play().then(() => {\n      if (!this.toggle) newAudio.pause();\n    }).catch(() => {});\n  }\n  reset() {\n    this.switchBGM(\"waveBGM\");\n    this.playMajorSound(null);\n    this.clearCurrentSounds();\n  }\n  clearCurrentSounds() {\n    Object.values(this.currentSounds).forEach(soundObject => {\n      if (this.isPlaying(soundObject.audio)) soundObject.audio.pause();\n      soundObject.audio.remove();\n      soundObject.audio.src = '';\n      soundObject.ctx.disconnect(this.audioCtx.destination);\n    });\n    this.currentSounds = {};\n  }\n  bindToggleListener() {\n    const soundContainer = document.getElementById(\"sound-icons-container\");\n    soundContainer.addEventListener(\"click\", this.handleSoundToggle.bind(this));\n  }\n  handleSoundToggle() {\n    if (this.toggle) {\n      this.toggleOff();\n      this.soundOnElement.style.display = 'none';\n      this.soundOffElement.style.display = 'block';\n      this.soundTextElement.innerHTML = \"muted\";\n    } else {\n      this.toggleOn();\n      this.soundOnElement.style.display = 'block';\n      this.soundOffElement.style.display = 'none';\n      this.soundTextElement.innerHTML = \"sound on\";\n    }\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sound);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQzVDLGVBQWUsQ0FBQzJDLEtBQUssQ0FBQ0MsT0FBTyxHQUFHLE1BQU07TUFDM0MsSUFBSSxDQUFDM0MsZ0JBQWdCLENBQUM0QyxTQUFTLEdBQUcsVUFBVTtJQUM5QztFQUNGO0FBQ0Y7QUFFQSwrREFBZWpGLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXByb2plY3QvLi9zcmMvc2NyaXB0cy9zb3VuZC5qcz9lNWIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNvdW5kIGNsYXNzIGNyZWF0ZXMgYW5kIGhhbmRsZXMgYWxsIGdhbWUgc291bmRzXG5jbGFzcyBTb3VuZCB7XG4gIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICB0aGlzLmF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgIFxuICAgIHRoaXMud2F2ZUJHTSA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvd2F2ZV9iZ20ubXAzXCI7XG4gICAgdGhpcy5ib3NzSW5jb21pbmdCR00gPSBcInNyYy9hc3NldHMvc291bmRzL2Jvc3NfaW5jb21pbmdfYmdtLm1wM1wiO1xuICAgIHRoaXMuYm9zc0JHTSA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvYm9zc19iZ20ubXAzXCI7XG5cbiAgICB0aGlzLmN1cnJlbnRCR00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7XG4gICAgdGhpcy5jdXJyZW50QkdNLnNyYyA9IHRoaXMud2F2ZUJHTTtcbiAgICB0aGlzLmN1cnJlbnRCR00ucHJlbG9hZCA9IFwiYXV0b1wiO1xuICAgIHRoaXMuY3VycmVudEJHTS5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmN1cnJlbnRCR01DdHggPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmN1cnJlbnRCR00pO1xuICAgIHRoaXMuY3VycmVudEJHTUN0eC5jb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pO1xuICAgIFxuICAgIHRoaXMucGxheWVySHVydCA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvcGxheWVyX2h1cnQud2F2XCI7XG4gICAgdGhpcy5wbGF5ZXJEZWF0aCA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvcGxheWVyX2RlYXRoLndhdlwiO1xuICAgIHRoaXMuYm9zc0RlYXRoID0gXCJzcmMvYXNzZXRzL3NvdW5kcy9ib3NzX2RlYXRoLm1wM1wiO1xuICAgIHRoaXMud2luID0gXCJzcmMvYXNzZXRzL3NvdW5kcy93aW4ubXAzXCI7XG4gICAgdGhpcy5nYW1lT3ZlciA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvZ2FtZV9vdmVyLm1wM1wiO1xuXG4gICAgdGhpcy5tYWpvclNvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO1xuICAgIHRoaXMubWFqb3JTb3VuZC5zcmMgPSBcIlwiO1xuICAgIHRoaXMubWFqb3JTb3VuZC5wcmVsb2FkID0gXCJhdXRvXCI7XG4gICAgdGhpcy5tYWpvclNvdW5kLm9uZW5kZWQgPSAoKSA9PiB0aGlzLm1ham9yU291bmQuc3JjID0gXCJcIjtcbiAgICB0aGlzLm1ham9yU291bmRDdHggPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLm1ham9yU291bmQpO1xuICAgIHRoaXMubWFqb3JTb3VuZEN0eC5jb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pO1xuXG4gICAgdGhpcy5kZWZhdWx0UHJvamVjdGlsZSA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvZGVmYXVsdF9sYXNlci53YXZcIjtcbiAgICB0aGlzLnBsYXllclByb2plY3RpbGUgPSBcInNyYy9hc3NldHMvc291bmRzL3BsYXllcl9sYXNlci53YXZcIjtcbiAgICB0aGlzLmVuZW15UHJvamVjdGlsZSA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvZW5lbXlfbGFzZXIud2F2XCI7XG4gICAgdGhpcy5ib3NzUHJvamVjdGlsZSA9IFwic3JjL2Fzc2V0cy9zb3VuZHMvYm9zc19wcm9qZWN0aWxlLndhdlwiO1xuICAgIHRoaXMuZXhwbG9zaW9uID0gXCJzcmMvYXNzZXRzL3NvdW5kcy9leHBsb3Npb24ud2F2XCI7XG5cbiAgICB0aGlzLnNvdW5kSWQgPSAwO1xuICAgIHRoaXMuY3VycmVudFNvdW5kcyA9IHt9O1xuICAgIHRoaXMudG9nZ2xlID0gZmFsc2U7XG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcblxuICAgIHRoaXMuc291bmRPbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvdW5kLW9uXCIpO1xuICAgIHRoaXMuc291bmRPZmZFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3VuZC1vZmZcIik7XG4gICAgdGhpcy5zb3VuZFRleHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3VuZC10ZXh0XCIpO1xuICAgIHRoaXMuYmluZFRvZ2dsZUxpc3RlbmVyKCk7XG4gIH1cblxuICAvLyBvbmx5IHBhdXNlIHdoZW4gcGxheWluZywgdG8gYXZvaWQgYXN5bmNocm9ub3VzIHBsYXkoKSBpc3N1ZXNcbiAgaXNQbGF5aW5nKGF1ZGlvKSB7XG4gICAgcmV0dXJuIGF1ZGlvLmN1cnJlbnRUaW1lID4gMCAmJiAhYXVkaW8ucGF1c2VkICYmICFhdWRpby5lbmRlZDtcbiAgfVxuXG4gIC8vIHN3aXRjaGluZyB0aGUgYmFja2dyb3VuZCBtdXNpY1xuICBzd2l0Y2hCR00oa2V5KSB7XG4gICAgdGhpcy5jdXJyZW50QkdNLnBhdXNlKCk7XG4gICAgdGhpcy5jdXJyZW50QkdNLmN1cnJlbnRUaW1lID0gMDtcbiAgICB0aGlzLmN1cnJlbnRCR00uc3JjID0gdGhpc1trZXldO1xuICAgIGlmICh0aGlzLnRvZ2dsZSkgdGhpcy5jdXJyZW50QkdNLnBsYXkoKTtcbiAgfVxuXG4gIC8vIHBsYXllciBodXJ0LCBwbGF5ZXIgZGVhdGgsIGJvc3MgZGVhdGgsIHdpbiwgZ2FtZSBvdmVyIHNvdW5kc1xuICBwbGF5TWFqb3JTb3VuZChrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICB0aGlzLm1ham9yU291bmQuc3JjID0gXCJcIlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXkgIT09IFwicGxheWVySHVydFwiKSB0aGlzLmN1cnJlbnRCR00ucGF1c2UoKTtcblxuICAgIHRoaXMubWFqb3JTb3VuZC5wYXVzZSgpO1xuICAgIHRoaXMubWFqb3JTb3VuZC5jdXJyZW50VGltZSA9IDA7XG4gICAgdGhpcy5tYWpvclNvdW5kLnNyYyA9IHRoaXNba2V5XTtcblxuICAgIGlmIChrZXkgPT09IFwicGxheWVyRGVhdGhcIikgdGhpcy5tYWpvclNvdW5kLnZvbHVtZSA9IDAuMjtcbiAgICBlbHNlIGlmIChrZXkgPT09IFwid2luXCIpIHRoaXMubWFqb3JTb3VuZC52b2x1bWUgPSAwLjM7XG4gICAgZWxzZSB0aGlzLm1ham9yU291bmQudm9sdW1lID0gMS4wO1xuXG4gICAgaWYgKHRoaXMudG9nZ2xlKSB0aGlzLm1ham9yU291bmQucGxheSgpO1xuICB9XG5cbiAgLy8gc291bmQgdG9nZ2xpbmdcbiAgdG9nZ2xlT2ZmKCkge1xuICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlICE9PSBcInN1c3BlbmRlZFwiKSB0aGlzLmF1ZGlvQ3R4LnN1c3BlbmQoKTtcbiAgICB0aGlzLmN1cnJlbnRCR00ucGF1c2UoKTtcbiAgICB0aGlzLm1ham9yU291bmQucGF1c2UoKTtcbiAgICB0aGlzLmNsZWFyQ3VycmVudFNvdW5kcygpO1xuICAgIHRoaXMudG9nZ2xlID0gZmFsc2U7XG4gIH1cblxuICB0b2dnbGVPbigpIHtcbiAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikgdGhpcy5hdWRpb0N0eC5yZXN1bWUoKTtcbiAgICBpZiAoIXRoaXMuZ2FtZS5zdGFydFNjcmVlbiAmJiAhdGhpcy5nYW1lLmdhbWVPdmVyICYmICF0aGlzLmdhbWUud2luKSB7XG4gICAgICB0aGlzLmN1cnJlbnRCR00ucGxheSgpO1xuICAgIH1cbiAgICBpZiAoIWlzTmFOKHRoaXMubWFqb3JTb3VuZC5kdXJhdGlvbikpIHRoaXMubWFqb3JTb3VuZC5wbGF5KCk7XG4gICAgdGhpcy50b2dnbGUgPSB0cnVlO1xuICB9XG5cbiAgLy8gYWRkaW5nIHByb2plY3RpbGUgYW5kIGV4cGxvc2lvbiBzb3VuZHMsIHRvIGJlIGNhbGxlZCBpbiBvdGhlciBjbGFzc2VzIGFzIG5lZWRlZFxuICBhZGQoYXVkaW9Tb3VyY2VLZXkpIHtcbiAgICBpZiAoIXRoaXMudG9nZ2xlKSByZXR1cm47XG5cbiAgICBjb25zdCBuZXdBdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcbiAgICBuZXdBdWRpby5zcmMgPSB0aGlzW2F1ZGlvU291cmNlS2V5XTtcbiAgICBuZXdBdWRpby5wcmVsb2FkID0gXCJhdXRvXCI7XG4gICAgY29uc3QgbmV3QXVkaW9DdHggPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShuZXdBdWRpbyk7XG4gICAgbmV3QXVkaW9DdHguY29ubmVjdCh0aGlzLmF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcblxuICAgIGlmIChhdWRpb1NvdXJjZUtleSA9PT0gXCJlbmVteVByb2plY3RpbGVcIikgbmV3QXVkaW8udm9sdW1lID0gMC4wMjtcblxuICAgIGNvbnN0IGlkID0gdGhpcy5zb3VuZElkKytcbiAgICBjb25zdCBhdWRpb09iamVjdCA9IHtcbiAgICAgIGF1ZGlvOiBuZXdBdWRpbyxcbiAgICAgIGN0eDogbmV3QXVkaW9DdHhcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50U291bmRzW2lkXSA9IGF1ZGlvT2JqZWN0O1xuICAgIFxuICAgIG5ld0F1ZGlvLm9uZW5kZWQgPSAoKSA9PiB7XG4gICAgICBuZXdBdWRpb0N0eC5kaXNjb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pO1xuICAgICAgbmV3QXVkaW8ucmVtb3ZlKCk7XG4gICAgICBuZXdBdWRpby5zcmMgPSAnJztcbiAgICAgIGRlbGV0ZSB0aGlzLmN1cnJlbnRTb3VuZHNbaWRdO1xuICAgIH1cblxuICAgIG5ld0F1ZGlvLnBsYXkoKS50aGVuKCgpID0+IHsgXG4gICAgICBpZighdGhpcy50b2dnbGUpIG5ld0F1ZGlvLnBhdXNlKCkgXG4gICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zd2l0Y2hCR00oXCJ3YXZlQkdNXCIpO1xuICAgIHRoaXMucGxheU1ham9yU291bmQobnVsbCk7XG4gICAgdGhpcy5jbGVhckN1cnJlbnRTb3VuZHMoKTtcbiAgfVxuXG4gIGNsZWFyQ3VycmVudFNvdW5kcygpIHtcbiAgICBPYmplY3QudmFsdWVzKHRoaXMuY3VycmVudFNvdW5kcykuZm9yRWFjaChzb3VuZE9iamVjdCA9PiB7XG4gICAgICBpZiAodGhpcy5pc1BsYXlpbmcoc291bmRPYmplY3QuYXVkaW8pKSBzb3VuZE9iamVjdC5hdWRpby5wYXVzZSgpO1xuICAgICAgc291bmRPYmplY3QuYXVkaW8ucmVtb3ZlKCk7XG4gICAgICBzb3VuZE9iamVjdC5hdWRpby5zcmMgPSAnJztcbiAgICAgIHNvdW5kT2JqZWN0LmN0eC5kaXNjb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudFNvdW5kcyA9IHt9O1xuICB9XG5cbiAgYmluZFRvZ2dsZUxpc3RlbmVyKCkge1xuICAgIGNvbnN0IHNvdW5kQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3VuZC1pY29ucy1jb250YWluZXJcIik7XG4gICAgc291bmRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlU291bmRUb2dnbGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBoYW5kbGVTb3VuZFRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy50b2dnbGUpIHtcbiAgICAgIHRoaXMudG9nZ2xlT2ZmKClcbiAgICAgIHRoaXMuc291bmRPbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMuc291bmRPZmZFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyBcbiAgICAgIHRoaXMuc291bmRUZXh0RWxlbWVudC5pbm5lckhUTUwgPSBcIm11dGVkXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudG9nZ2xlT24oKVxuICAgICAgdGhpcy5zb3VuZE9uRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHRoaXMuc291bmRPZmZFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLnNvdW5kVGV4dEVsZW1lbnQuaW5uZXJIVE1MID0gXCJzb3VuZCBvblwiO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTb3VuZDsiXSwibmFtZXMiOlsiU291bmQiLCJjb25zdHJ1Y3RvciIsImdhbWUiLCJhdWRpb0N0eCIsIkF1ZGlvQ29udGV4dCIsIndhdmVCR00iLCJib3NzSW5jb21pbmdCR00iLCJib3NzQkdNIiwiY3VycmVudEJHTSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInByZWxvYWQiLCJsb29wIiwiY3VycmVudEJHTUN0eCIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInBsYXllckh1cnQiLCJwbGF5ZXJEZWF0aCIsImJvc3NEZWF0aCIsIndpbiIsImdhbWVPdmVyIiwibWFqb3JTb3VuZCIsIm9uZW5kZWQiLCJtYWpvclNvdW5kQ3R4IiwiZGVmYXVsdFByb2plY3RpbGUiLCJwbGF5ZXJQcm9qZWN0aWxlIiwiZW5lbXlQcm9qZWN0aWxlIiwiYm9zc1Byb2plY3RpbGUiLCJleHBsb3Npb24iLCJzb3VuZElkIiwiY3VycmVudFNvdW5kcyIsInRvZ2dsZSIsInNvdW5kT25FbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzb3VuZE9mZkVsZW1lbnQiLCJzb3VuZFRleHRFbGVtZW50IiwiYmluZFRvZ2dsZUxpc3RlbmVyIiwiaXNQbGF5aW5nIiwiYXVkaW8iLCJjdXJyZW50VGltZSIsInBhdXNlZCIsImVuZGVkIiwic3dpdGNoQkdNIiwia2V5IiwicGF1c2UiLCJwbGF5IiwicGxheU1ham9yU291bmQiLCJ2b2x1bWUiLCJ0b2dnbGVPZmYiLCJzdGF0ZSIsInN1c3BlbmQiLCJjbGVhckN1cnJlbnRTb3VuZHMiLCJ0b2dnbGVPbiIsInJlc3VtZSIsInN0YXJ0U2NyZWVuIiwiaXNOYU4iLCJkdXJhdGlvbiIsImFkZCIsImF1ZGlvU291cmNlS2V5IiwibmV3QXVkaW8iLCJuZXdBdWRpb0N0eCIsImlkIiwiYXVkaW9PYmplY3QiLCJjdHgiLCJkaXNjb25uZWN0IiwicmVtb3ZlIiwidGhlbiIsImNhdGNoIiwicmVzZXQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwic291bmRPYmplY3QiLCJzb3VuZENvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTb3VuZFRvZ2dsZSIsImJpbmQiLCJzdHlsZSIsImRpc3BsYXkiLCJpbm5lckhUTUwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/sound.js\n");

/***/ }),

/***/ "./src/scripts/timer.js":
/*!******************************!*\
  !*** ./src/scripts/timer.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// Timer class wraps setTimeouts with added pause and resume functionality\nclass Timer {\n  constructor(game, callback, delay) {\n    // all Timers are kept tracked of in Game.timers\n    this.game = game;\n    this.id = this.game.idCounter++;\n    this.game.timers[this.id] = this;\n\n    //  Timers will also delete themselves after the callback is played\n    this.timerCallback = () => {\n      callback();\n      delete this.game.timers[this.id];\n    };\n    this.startTime = Date.now();\n    this.delay = delay;\n    this.timeoutId = setTimeout(this.timerCallback.bind(this), this.delay);\n  }\n\n  // pause and resume simply clear and create setTimeouts with new remaining delays\n  pause() {\n    clearTimeout(this.timeoutId);\n    this.delay -= Date.now() - this.startTime;\n  }\n  resume() {\n    this.startTime = Date.now();\n    this.timeoutId = setTimeout(this.timerCallback.bind(this), this.delay);\n  }\n  clear() {\n    clearTimeout(this.timeoutId);\n    delete this.game.timers[this.id];\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Timer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy90aW1lci5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSxNQUFNQSxLQUFLLENBQUM7RUFDVkMsV0FBV0EsQ0FBQ0MsSUFBSSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRTtJQUNqQztJQUNBLElBQUksQ0FBQ0YsSUFBSSxHQUFHQSxJQUFJO0lBQ2hCLElBQUksQ0FBQ0csRUFBRSxHQUFHLElBQUksQ0FBQ0gsSUFBSSxDQUFDSSxTQUFTLEVBQUU7SUFDL0IsSUFBSSxDQUFDSixJQUFJLENBQUNLLE1BQU0sQ0FBQyxJQUFJLENBQUNGLEVBQUUsQ0FBQyxHQUFHLElBQUk7O0lBRWhDO0lBQ0EsSUFBSSxDQUFDRyxhQUFhLEdBQUcsTUFBTTtNQUN6QkwsUUFBUSxFQUFFO01BQ1YsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQ0ssTUFBTSxDQUFDLElBQUksQ0FBQ0YsRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUFJLENBQUNJLFNBQVMsR0FBR0MsSUFBSSxDQUFDQyxHQUFHLEVBQUU7SUFDM0IsSUFBSSxDQUFDUCxLQUFLLEdBQUdBLEtBQUs7SUFDbEIsSUFBSSxDQUFDUSxTQUFTLEdBQUdDLFVBQVUsQ0FBQyxJQUFJLENBQUNMLGFBQWEsQ0FBQ00sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQ1YsS0FBSyxDQUFDO0VBQ3hFOztFQUVBO0VBQ0FXLEtBQUtBLENBQUEsRUFBRztJQUNOQyxZQUFZLENBQUMsSUFBSSxDQUFDSixTQUFTLENBQUM7SUFDNUIsSUFBSSxDQUFDUixLQUFLLElBQUlNLElBQUksQ0FBQ0MsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDRixTQUFTO0VBQzNDO0VBRUFRLE1BQU1BLENBQUEsRUFBRztJQUNQLElBQUksQ0FBQ1IsU0FBUyxHQUFHQyxJQUFJLENBQUNDLEdBQUcsRUFBRTtJQUMzQixJQUFJLENBQUNDLFNBQVMsR0FBR0MsVUFBVSxDQUFDLElBQUksQ0FBQ0wsYUFBYSxDQUFDTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDVixLQUFLLENBQUM7RUFDeEU7RUFFQWMsS0FBS0EsQ0FBQSxFQUFHO0lBQ05GLFlBQVksQ0FBQyxJQUFJLENBQUNKLFNBQVMsQ0FBQztJQUM1QixPQUFPLElBQUksQ0FBQ1YsSUFBSSxDQUFDSyxNQUFNLENBQUMsSUFBSSxDQUFDRixFQUFFLENBQUM7RUFDbEM7QUFDRjtBQUVBLCtEQUFlTCxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvdGltZXIuanM/MTVhNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaW1lciBjbGFzcyB3cmFwcyBzZXRUaW1lb3V0cyB3aXRoIGFkZGVkIHBhdXNlIGFuZCByZXN1bWUgZnVuY3Rpb25hbGl0eVxuY2xhc3MgVGltZXIge1xuICBjb25zdHJ1Y3RvcihnYW1lLCBjYWxsYmFjaywgZGVsYXkpIHtcbiAgICAvLyBhbGwgVGltZXJzIGFyZSBrZXB0IHRyYWNrZWQgb2YgaW4gR2FtZS50aW1lcnNcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgIHRoaXMuaWQgPSB0aGlzLmdhbWUuaWRDb3VudGVyKys7XG4gICAgdGhpcy5nYW1lLnRpbWVyc1t0aGlzLmlkXSA9IHRoaXM7XG5cbiAgICAvLyAgVGltZXJzIHdpbGwgYWxzbyBkZWxldGUgdGhlbXNlbHZlcyBhZnRlciB0aGUgY2FsbGJhY2sgaXMgcGxheWVkXG4gICAgdGhpcy50aW1lckNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmdhbWUudGltZXJzW3RoaXMuaWRdO1xuICAgIH1cblxuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHRoaXMudGltZXJDYWxsYmFjay5iaW5kKHRoaXMpLCB0aGlzLmRlbGF5KTtcbiAgfVxuXG4gIC8vIHBhdXNlIGFuZCByZXN1bWUgc2ltcGx5IGNsZWFyIGFuZCBjcmVhdGUgc2V0VGltZW91dHMgd2l0aCBuZXcgcmVtYWluaW5nIGRlbGF5c1xuICBwYXVzZSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgIHRoaXMuZGVsYXkgLT0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lO1xuICB9XG5cbiAgcmVzdW1lKCkge1xuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy50aW1lckNhbGxiYWNrLmJpbmQodGhpcyksIHRoaXMuZGVsYXkpXG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgIGRlbGV0ZSB0aGlzLmdhbWUudGltZXJzW3RoaXMuaWRdO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVyOyJdLCJuYW1lcyI6WyJUaW1lciIsImNvbnN0cnVjdG9yIiwiZ2FtZSIsImNhbGxiYWNrIiwiZGVsYXkiLCJpZCIsImlkQ291bnRlciIsInRpbWVycyIsInRpbWVyQ2FsbGJhY2siLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwidGltZW91dElkIiwic2V0VGltZW91dCIsImJpbmQiLCJwYXVzZSIsImNsZWFyVGltZW91dCIsInJlc3VtZSIsImNsZWFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/timer.js\n");

/***/ }),

/***/ "./src/scripts/utils.js":
/*!******************************!*\
  !*** ./src/scripts/utils.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"rectangleCollision\": function() { return /* binding */ rectangleCollision; },\n/* harmony export */   \"vectorScale\": function() { return /* binding */ vectorScale; }\n/* harmony export */ });\n// vector and collision math related helper functions go here\n// rectangle to rectangle collision \nfunction rectangleCollision(box1, box2) {\n  return box1.x < box2.x + box2.width && box1.x + box1.width > box2.x && box1.y < box2.y + box2.height && box1.height + box1.y > box2.y;\n}\n\n// angled rectangle collision (seperate axis theorem)\n\n// rectangle to circle collision\n\n// circle to circle collision\n\n// vector scaling calculation\nfunction vectorScale(vector, newMagnitude) {\n  const magnitude = Math.sqrt(vector[0] ** 2 + vector[1] ** 2);\n  const scale = newMagnitude / magnitude;\n  return [vector[0] * scale, vector[1] * scale];\n}\n\n// vector calculation between two points\n\n// new angle calculation//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy91dGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDTyxTQUFTQSxrQkFBa0JBLENBQUNDLElBQUksRUFBRUMsSUFBSSxFQUFFO0VBQzdDLE9BQ0VELElBQUksQ0FBQ0UsQ0FBQyxHQUFHRCxJQUFJLENBQUNDLENBQUMsR0FBR0QsSUFBSSxDQUFDRSxLQUFLLElBQzVCSCxJQUFJLENBQUNFLENBQUMsR0FBR0YsSUFBSSxDQUFDRyxLQUFLLEdBQUdGLElBQUksQ0FBQ0MsQ0FBQyxJQUM1QkYsSUFBSSxDQUFDSSxDQUFDLEdBQUdILElBQUksQ0FBQ0csQ0FBQyxHQUFHSCxJQUFJLENBQUNJLE1BQU0sSUFDN0JMLElBQUksQ0FBQ0ssTUFBTSxHQUFHTCxJQUFJLENBQUNJLENBQUMsR0FBR0gsSUFBSSxDQUFDRyxDQUFDO0FBRWpDOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ08sU0FBU0UsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxZQUFZLEVBQUU7RUFDaEQsTUFBTUMsU0FBUyxHQUFHQyxJQUFJLENBQUNDLElBQUksQ0FBQ0osTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFFLENBQUMsR0FBR0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFFLENBQUMsQ0FBQztFQUN4RCxNQUFNSyxLQUFLLEdBQUdKLFlBQVksR0FBQ0MsU0FBUztFQUNwQyxPQUFPLENBQUNGLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBR0ssS0FBSyxFQUFFTCxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUdLLEtBQUssQ0FBQztBQUMvQzs7QUFFQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtcHJvamVjdC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzP2RiMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdmVjdG9yIGFuZCBjb2xsaXNpb24gbWF0aCByZWxhdGVkIGhlbHBlciBmdW5jdGlvbnMgZ28gaGVyZVxuLy8gcmVjdGFuZ2xlIHRvIHJlY3RhbmdsZSBjb2xsaXNpb24gXG5leHBvcnQgZnVuY3Rpb24gcmVjdGFuZ2xlQ29sbGlzaW9uKGJveDEsIGJveDIpIHtcbiAgcmV0dXJuIChcbiAgICBib3gxLnggPCBib3gyLnggKyBib3gyLndpZHRoICYmXG4gICAgYm94MS54ICsgYm94MS53aWR0aCA+IGJveDIueCAmJlxuICAgIGJveDEueSA8IGJveDIueSArIGJveDIuaGVpZ2h0ICYmXG4gICAgYm94MS5oZWlnaHQgKyBib3gxLnkgPiBib3gyLnlcbiAgKVxufVxuXG4vLyBhbmdsZWQgcmVjdGFuZ2xlIGNvbGxpc2lvbiAoc2VwZXJhdGUgYXhpcyB0aGVvcmVtKVxuXG4vLyByZWN0YW5nbGUgdG8gY2lyY2xlIGNvbGxpc2lvblxuXG4vLyBjaXJjbGUgdG8gY2lyY2xlIGNvbGxpc2lvblxuXG4vLyB2ZWN0b3Igc2NhbGluZyBjYWxjdWxhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIHZlY3RvclNjYWxlKHZlY3RvciwgbmV3TWFnbml0dWRlKSB7XG4gIGNvbnN0IG1hZ25pdHVkZSA9IE1hdGguc3FydCh2ZWN0b3JbMF0qKjIgKyB2ZWN0b3JbMV0qKjIpO1xuICBjb25zdCBzY2FsZSA9IG5ld01hZ25pdHVkZS9tYWduaXR1ZGU7XG4gIHJldHVybiBbdmVjdG9yWzBdICogc2NhbGUsIHZlY3RvclsxXSAqIHNjYWxlXVxufVxuXG4vLyB2ZWN0b3IgY2FsY3VsYXRpb24gYmV0d2VlbiB0d28gcG9pbnRzXG5cbi8vIG5ldyBhbmdsZSBjYWxjdWxhdGlvbiJdLCJuYW1lcyI6WyJyZWN0YW5nbGVDb2xsaXNpb24iLCJib3gxIiwiYm94MiIsIngiLCJ3aWR0aCIsInkiLCJoZWlnaHQiLCJ2ZWN0b3JTY2FsZSIsInZlY3RvciIsIm5ld01hZ25pdHVkZSIsIm1hZ25pdHVkZSIsIk1hdGgiLCJzcXJ0Iiwic2NhbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/utils.js\n");

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXByb2plY3QvLi9zcmMvaW5kZXguc2Nzcz85NzQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.scss\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./src/index.js");
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.scss");
/******/ 	
/******/ })()
;